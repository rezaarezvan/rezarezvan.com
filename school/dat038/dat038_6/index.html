<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Astro v4.11.5"><link rel="icon" type="image" href="/favicon.ico"><title>Part 6 - Trees</title><!-- KaTeX support --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css"><script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js" onload="renderMathInElement(document.body);"></script><!-- inline KaTeX --><link rel="stylesheet" href="/_astro/index.B_-I1NWR.css">
<style>article[data-astro-cid-v5ro3oot]{max-width:80ch;margin:0 auto}.nav-button[data-astro-cid-v5ro3oot]{display:flex;align-items:center;padding:.5rem;border-radius:.5rem;transition:background-color .3s ease;text-decoration:none;color:var(--text-color);background-color:var(--bg-color);border:1px solid var(--border-color)}.nav-button[data-astro-cid-v5ro3oot]:hover{background-color:var(--hover-color)}.nav-button[data-astro-cid-v5ro3oot] .arrow[data-astro-cid-v5ro3oot]{font-size:1.5rem;line-height:1}.nav-button[data-astro-cid-v5ro3oot] .text[data-astro-cid-v5ro3oot]{display:flex;flex-direction:column;margin:0 .5rem}.nav-button[data-astro-cid-v5ro3oot] .label[data-astro-cid-v5ro3oot]{font-size:.8rem;text-transform:uppercase;letter-spacing:.05em;color:var(--muted-color)}.nav-button[data-astro-cid-v5ro3oot] .title[data-astro-cid-v5ro3oot]{font-weight:500}.prev-button[data-astro-cid-v5ro3oot]{justify-content:flex-start}.next-button[data-astro-cid-v5ro3oot]{justify-content:flex-end;text-align:right}@media (max-width: 640px){.nav-button[data-astro-cid-v5ro3oot]{width:100%}.next-button[data-astro-cid-v5ro3oot]{justify-content:flex-start;text-align:left}.next-button[data-astro-cid-v5ro3oot] .text[data-astro-cid-v5ro3oot]{order:2;margin-left:.5rem}.next-button[data-astro-cid-v5ro3oot] .arrow[data-astro-cid-v5ro3oot]{order:1}}
</style>
<link rel="stylesheet" href="/_astro/_slug_.C5ncBpZU.css"><script type="module">document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})});
</script></head> <body> <div class="container mx-auto px-4 flex flex-col md:flex-row min-h-screen"> <aside class="w-full md:w-64 border-b md:border-r md:border-b-0 border-[var(--border-color)] border-dashed pt-8"> <header class="flex flex-col h-full"> <div class="flex items-center mb-4"> <script>
  function setTheme(mode) {
    localStorage.setItem("theme-storage", mode);
    document.documentElement.setAttribute('data-theme', mode);
  }
  function toggleTheme() {
    const currentTheme = localStorage.getItem("theme-storage") || "light";
    const newTheme = currentTheme === "light" ? "dark" : "light";
    setTheme(newTheme);
  }
  const savedTheme = localStorage.getItem("theme-storage") || "light";
  setTheme(savedTheme);
  window.toggleTheme = toggleTheme;
</script> <button id="theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme" class="flex items-center justify-center w-6" data-astro-cid-x3pjskd3>○</button>  <a href="/" class="text-2xl font-semibold ml-3 h-10 pr-3">rezvan.xyz</a> </div> <nav class="flex flex-wrap gap-2 md:flex-col md:gap-2"> <a href="/principles" class="hover:text-orange-500 dark:hover:text-orange-400 transition-colors">
[principles]
</a><a href="/cv" class="hover:text-orange-500 dark:hover:text-orange-400 transition-colors">
[cv]
</a><a href="/posts" class="hover:text-orange-500 dark:hover:text-orange-400 transition-colors">
[posts]
</a><a href="/school" class="hover:text-orange-500 dark:hover:text-orange-400 transition-colors">
[school]
</a> </nav> </header> </aside> <div class="hidden md:block"> <div class="vertical-marquee-container left" data-astro-cid-47hzastc> <div class="vertical-marquee" data-astro-cid-47hzastc> <div key="0" class="marquee-item" data-astro-cid-47hzastc>memento mori • amor fati • sic parvis magna • per aspera ad astra • carthago delenda est • vincit qui se vincit</div><div key="1" class="marquee-item" data-astro-cid-47hzastc>memento mori • amor fati • sic parvis magna • per aspera ad astra • carthago delenda est • vincit qui se vincit</div><div key="2" class="marquee-item" data-astro-cid-47hzastc>memento mori • amor fati • sic parvis magna • per aspera ad astra • carthago delenda est • vincit qui se vincit</div><div key="3" class="marquee-item" data-astro-cid-47hzastc>memento mori • amor fati • sic parvis magna • per aspera ad astra • carthago delenda est • vincit qui se vincit</div><div key="4" class="marquee-item" data-astro-cid-47hzastc>memento mori • amor fati • sic parvis magna • per aspera ad astra • carthago delenda est • vincit qui se vincit</div><div key="5" class="marquee-item" data-astro-cid-47hzastc>memento mori • amor fati • sic parvis magna • per aspera ad astra • carthago delenda est • vincit qui se vincit</div><div key="6" class="marquee-item" data-astro-cid-47hzastc>memento mori • amor fati • sic parvis magna • per aspera ad astra • carthago delenda est • vincit qui se vincit</div><div key="7" class="marquee-item" data-astro-cid-47hzastc>memento mori • amor fati • sic parvis magna • per aspera ad astra • carthago delenda est • vincit qui se vincit</div><div key="8" class="marquee-item" data-astro-cid-47hzastc>memento mori • amor fati • sic parvis magna • per aspera ad astra • carthago delenda est • vincit qui se vincit</div><div key="9" class="marquee-item" data-astro-cid-47hzastc>memento mori • amor fati • sic parvis magna • per aspera ad astra • carthago delenda est • vincit qui se vincit</div> </div> </div>  </div> <main class="flex-grow px-4 md:px-8 py-8 overflow-y-auto">  <article class="prose prose-sm sm:prose lg:prose-lg xl:prose-xl max-w-none" data-astro-cid-v5ro3oot> <h1 class="text-3xl sm:text-4xl font-bold mb-4" data-astro-cid-v5ro3oot>Part 6 - Trees</h1> <p class="text-sm text-muted-foreground mb-4" data-astro-cid-v5ro3oot>
Date: 11/30/2022 </p>  <p>In this part we’ll cover so called ‘trees’ in computer science.</p>
<h3 id="trees">Trees</h3>
<p>The formal definition of a ‘tree’ is: “A <em>hierarchical</em> data structure built up from <em>nodes</em>”.</p>
<p>So unlike a real tree which has its root at the bottom - the computer scientist flipped it - the <em>root</em> node is at the top of the tree.</p>
<p>In any tree there’s always <strong>one</strong> <em>root</em> node. Each node can have so-called <em>child</em> nodes, and these <em>children</em> can have their own child nodes and so on.</p>
<p>Therefore, all nodes - expect the root node - <strong>must</strong> have exactly <strong>one</strong> parent node.</p>
<h4 id="tree-rules">Tree rules</h4>
<p>I’ve already stated some of the ‘rules’ of a tree, but generally we have 3 rules that makes a collection of nodes a tree.</p>
<ul>
<li>Each node must have exactly one <strong>unique</strong> parent node - expect the root node.</li>
<li>There must exactly be <strong>one</strong> root node.</li>
<li>If the first and second rules are followed - then no ‘cycles’ will appear.</li>
</ul>
<h3 id="recursive-tree">Recursive Tree</h3>
<p>Trees can also be defined recursively: “A tree consists of a root node together with its <strong>subtrees</strong>, which do not share any common nodes”.</p>
<p>This means, child node (of the root node) <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">→</span></span></span></span> root of subtree. This also means that a tree can be empty (no nodes) - for some applications this is needed.</p>
<h3 id="programming-with-trees">Programming with trees</h3>
<p>Now that we have some basic knowledge about trees - let’s try to represent them with code. A very natural representation would be a directory <strong>tree</strong>.</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="plaintext"><code><span class="line"><span>class Tree:</span></span>
<span class="line"><span>    name: string</span></span>
<span class="line"><span>    size: int</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    children: list[Tree]</span></span>
<span class="line"><span></span></span></code></pre>
<p>If we now want to compute the total size of a directory (folder) we would need to:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="plaintext"><code><span class="line"><span>def total(tree: Tree) -> int:</span></span>
<span class="line"><span>    n: int = tree.bytes</span></span>
<span class="line"><span>    for c in tree.children:</span></span>
<span class="line"><span>        n += total(c)</span></span>
<span class="line"><span>    return n</span></span>
<span class="line"><span></span></span></code></pre>
<p>And we can see that recursion and trees go hand in hand. Now let’s see how we can traverse the tree.</p>
<p>There are main methods for traversing - <strong>Pre-order</strong> traversal - meaning you process each node <strong>before</strong> visiting its children.
As well as <strong>Post-order</strong> traversal - meaning you process each node <strong>after</strong> visiting its children.</p>
<h3 id="binary-trees">Binary Trees</h3>
<p>Often we can use a special kind of tree called ‘Binary tree’ - a binary tree is a tree where each node has exactly <strong>two</strong> children.</p>
<p>As we said before, these children can be represented as a null-value if they’re ‘missing’. We call these children nodes the ‘left’ and ‘right’ nodes or subtrees.</p>
<p>Some terminology common used for trees are, <code>size</code> <code>height</code>, and <code>level</code>.
Size is the number of nodes in the (sub)tree - height, is the number of <code>levels</code> in the tree. Level is the distance from node to the root.</p>
<h3 id="binary-search-trees">Binary Search Trees</h3>
<p>Binary search trees or BSTs is a kind of binary tree but with some extra conditions:</p>
<ul>
<li>Each node has a <em>key</em></li>
<li>The node’s key is smaller than all the keys in its right subtree</li>
<li>The node’s key is greater than all the keys in its left subtree</li>
</ul>
<p>Or differently phrased, everything in its left subtree is less than the root, everything to the right is greater than the root.</p>
<p>With these rules searching becomes really, really effective and natural. We just compare our key to each node’s key and see if we traverse to the right or left.</p>
<p>If we ever hit a ‘null’ node, we can also say that the key we’re searching for doesn’t exist in this key.</p>
<p>So let us implement a map using BSTs!</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="plaintext"><code><span class="line"><span>class BSTMap[Key, Value]:</span></span>
<span class="line"><span>    class Node:</span></span>
<span class="line"><span>        key: Key</span></span>
<span class="line"><span>        value: Value</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        left, right: Node</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    root: Node</span></span>
<span class="line"><span></span></span>
<span class="line"><span>def get(key: Key) -> Value:</span></span>
<span class="line"><span>    return get(key, root)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>def put(key : Key, val : Value):</span></span>
<span class="line"><span>    root = put(key, val, root)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>def get(key, node) -> Value:</span></span>
<span class="line"><span>    if node is None</span></span>
<span class="line"><span>        return None</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    if key &#x3C; node.key</span></span>
<span class="line"><span>        return get(key, node.left)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    if key > node.key</span></span>
<span class="line"><span>        return get(key, node.right)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    else:</span></span>
<span class="line"><span>        return node.value</span></span>
<span class="line"><span></span></span>
<span class="line"><span>def put(key, val, node):</span></span>
<span class="line"><span>    if node is None</span></span>
<span class="line"><span>        return Node(key = key, value = val, left = None, right = None)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    elif key &#x3C; node.key:</span></span>
<span class="line"><span>        node.left = put(key, value, node.left)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    elif key > node.key:</span></span>
<span class="line"><span>        node.right = put(key, value, node.right)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    else:</span></span>
<span class="line"><span>        node.value = value</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    return node</span></span>
<span class="line"><span></span></span></code></pre>
<h3 id="fin-maxmin-value-in-bst">Fin max/min value in BST</h3>
<p>To find the max/min value in BST we just repeatedly go right/left until we hit a null node. Real simple!</p>
<p>Or in code:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="plaintext"><code><span class="line"><span></span></span>
<span class="line"><span>def get_max(tree: BST):</span></span>
<span class="line"><span>    c_node = tree.root</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    while c_node != None:</span></span>
<span class="line"><span>        c_node = c_node.right</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    return c_node.value</span></span>
<span class="line"><span></span></span>
<span class="line"><span>def get_min(tree: BST):</span></span>
<span class="line"><span>    c_node = tree.root</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    while c_node != None:</span></span>
<span class="line"><span>        c_node = c_node.left</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    return c_node.value</span></span>
<span class="line"><span></span></span></code></pre>
<h3 id="sorting-a-bst">Sorting a BST</h3>
<p>Sometimes we might want to print/store a BST in ascending order - the way to do this of course is via recursion!</p>
<p>This is also known as <em>in order</em> traversal - we print the left subtree, print the root then print the right subtree - we do this recursively.</p>
<p>So for example:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="plaintext"><code><span class="line"><span>def print_sorted(node: Node):</span></span>
<span class="line"><span>    if node is None:</span></span>
<span class="line"><span>        return</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    print_sorted(node.left)</span></span>
<span class="line"><span>    print(node.key)</span></span>
<span class="line"><span>    print_sorted(node.right)</span></span>
<span class="line"><span></span></span></code></pre>
<p>We can also do a more general case - we make an <em>iterator</em> for the keys in the tree - by doing an in order traversal and store the keys in a dynamic array.</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="plaintext"><code><span class="line"><span>def keys() -> list[Key]</span></span>
<span class="line"><span>    list = []</span></span>
<span class="line"><span>    inorder(root, list)</span></span>
<span class="line"><span>    return list</span></span>
<span class="line"><span></span></span>
<span class="line"><span>def inorder(node: Node, list: list[Key]):</span></span>
<span class="line"><span>    if node is None:</span></span>
<span class="line"><span>        return</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    inorder(node.left, list)</span></span>
<span class="line"><span>    list.add(node.key)</span></span>
<span class="line"><span>    inorder(node.right, list)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>...</span></span>
<span class="line"><span></span></span>
<span class="line"><span>for key in BST.keys():</span></span>
<span class="line"><span>    print(key)</span></span>
<span class="line"><span></span></span></code></pre>
<h3 id="deletion">Deletion</h3>
<p>Deletion can be quite tricky in trees, and especially in BSTs - we can’t just remove a node however, there are some rules.</p>
<h4 id="deleting-a-leaf">Deleting a leaf</h4>
<p>A so-called leaf is a node with no children (or visually the leafs are the bottom nodes). These are fine to remove without any corrections.</p>
<p>Since we just remove that child, with no children there won’t be any problems.</p>
<h4 id="deleting-a-node-with-one-child">Deleting a node with one child</h4>
<p>Now, in the case we want to delete a node with exactly one child, it’s still quite trivial. Since that node only has one child, we can just replace the deleted node with its child. It doesn’t affect the tree as a whole.</p>
<h4 id="deleting-a-node-with-two-children">Deleting a node with two children</h4>
<p>This is where it becomes tricky, but if we take a step back one think about it, we need to find a node that upholds the requirements of,
everything to the left should be smaller and everything to the right must be greater. If we think what candidates fulfill this requirement - it becomes clear two nodes are good candidates.</p>
<p>The <em>greatest</em> (rightmost) key in the node’s <em>left</em> subtree <em><strong>or</strong></em> the <em>smallest</em> (leftmost) in the nodes’ <em>right</em> subtree.</p>
<h4 id="the-hardest-case">The hardest case</h4>
<p>The case above becomes quite simple if the candidates don’t have any children, the hardest case in deletion is when these have one child.
What we need to do in that case is: We first delete the parent node by replacing it with its child - after we have done this we can delete the node we wanted to delete with our old (deleted) parent node.</p>
<p>So, not that hard logically - but can be a pain to implement correctly.</p>
<p>So let’s now do exactly that :)!</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="plaintext"><code><span class="line"><span>def delete(node: Node, key : Key):</span></span>
<span class="line"><span>	if node is None:</span></span>
<span class="line"><span>		return node</span></span>
<span class="line"><span></span></span>
<span class="line"><span>	if key &#x3C; node.key:</span></span>
<span class="line"><span>		node.left = delete(node.left, key)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>	elif(key > node.key):</span></span>
<span class="line"><span>		node.right = delete(node.right, key)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>	else:</span></span>
<span class="line"><span>		if node.left is None:</span></span>
<span class="line"><span>			temp = node.right</span></span>
<span class="line"><span>			node = None</span></span>
<span class="line"><span>			return temp</span></span>
<span class="line"><span></span></span>
<span class="line"><span>		elif node.right is None:</span></span>
<span class="line"><span>			temp = node.left</span></span>
<span class="line"><span>			node = None</span></span>
<span class="line"><span>			return temp</span></span>
<span class="line"><span></span></span>
<span class="line"><span>		temp = get_max(node.left)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>		node.key = temp.key</span></span>
<span class="line"><span></span></span>
<span class="line"><span>		node.right = delete(node.right, temp.key)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>	return node</span></span>
<span class="line"><span></span></span></code></pre>
<h3 id="complexity">Complexity</h3>
<p>The complexity of operations for BST are in the best case and average case, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><mi>g</mi><mtext> </mtext><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathcal{O}(log\ n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathcal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mspace"> </span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span> which is great.
In the worst case however, these operations will take <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathcal{O}(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathcal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span> since the items are in ascending order.</p>
<h3 id="bst-summary">BST Summary</h3>
<p>We can use BSTs to implement a set or map, however, with ordering-based operations such as min, max, range etc. with good complexity.</p>
<p>Insert/Delete/Search will take proportional time to the height of the tree. Which in the best/average case is <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><mi>g</mi><mtext> </mtext><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathcal{O}(log\ n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathcal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mspace"> </span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>,
but if the tree is <strong>unbalanced</strong> it will become linear.</p>
<p>So the main takeaway is that, if a BST is balanced, it’s really powerful and efficient. So let’s take a look how we can make it balanced.</p>
<h3 id="invariants">Invariants</h3>
<p>The property that, in the left subtree, the keys should be lesser than and that in the right subtree, the keys should be greater than is an example of <strong>data structure invariant</strong>.</p>
<p>An invariant is a property that the designer wants to always hold. Usually a rule about what instances of the data structure are ‘valid’.</p>
<p>But these invariants can be expensive to maintain - if we say ‘this array is sorted’ we can’t just use append anymore, we need to <em>insert</em> it. So we need to find an invariant for BSTs which is easier to maintain.</p>
<h3 id="avl-trees">AVL Trees</h3>
<p>AVL Trees has a less restrictive invariant compared to BSTs - in an AVL tree we keep the tree <em>almost</em> balanced.</p>
<p>The invariant for an AVL tree is: “For each node, the heights of its <em>left</em> and <em>right</em> subtrees differ by at <strong>most</strong> 1”.</p>
<h3 id="tree-rotations">Tree Rotations</h3>
<p>Now before we dive deeper into AVL trees - let’s take a look into rotations within trees. When we talk about rotations in trees we mean that it has a different node as the root.</p>
<p>Right rotation: <em>left</em> child of root becomes root, old root becomes <em>right</em> child.
Left rotation: <em>right child</em> of root becomes root, old root becomes <em>left</em> child.</p>
<p>Tree rotations preserve ordering and contents in BSTs. Note that we can also rotate a subtree.</p>
<h3 id="avl-insertion">AVL Insertion</h3>
<p>To insert a new node into an AVL tree - we first start by doing a BST insertion - this might break the AVL tree (the invariant).</p>
<p>But to fix this we go upwards from the new node, finding and fixing nodes that break the invariant. Note that during BST insertion, each node’s height either stays the same or goes up by 1.</p>
<p>We have different cases which we’ll look at.</p>
<h4 id="case-1-left-left-tree">Case 1: Left-left Tree</h4>
<p>In the Left-left case, we did an insertion in the <em>left</em> child of the <em>left</em> child of this node, which broke the invariant.</p>
<p>To fix this, we just make a right rotation</p>
<h4 id="case-2-right-right-tree">Case 2: Right-right Tree</h4>
<p>In the Right-right case, we did an insertion in the <em>right</em> child of the <em>right</em> child of this node, which broke the tree.</p>
<p>To fix we make a left rotation!</p>
<h4 id="case-3-left-right-tree">Case 3: Left-right Tree</h4>
<p>In the Left-right case, the extra height is in the root’s <em>left</em> child then in the <em>right child</em> of that. We can’t fix it with one rotation instead - but luckily we still have a solution.</p>
<p>First we’re going to rotate the <em>left</em> <strong>subtree</strong> <em>left</em>. When we have performed the left rotation, we’ve now created a Left-left tree, which is fixed by one right rotation as we saw earlier.</p>
<h4 id="case-4-right-left-tree">Case 4: Right-left Tree</h4>
<p>The same logic as case 3, the extra height is in the root’s <em>right child</em> and then in the <em>left child</em> of that one.
To fix this we first make a right rotation in the right subtree - then make a final left rotation to fix the tree.</p>
<h3 id="avl-insertion-summary">AVL Insertion Summary</h3>
<p>So we have these four cases and, we know how to solve them - we just need to remember how we identify them. We identify which <em>grandchild</em> the extra unit of height is in.</p>
<h3 id="avl-deletion">AVL Deletion</h3>
<p>In the case of deleting the node, the same situation occurs! But instead we <em>reduce</em> the height of some tree by 1, breaking the invariant.</p>
<p>So, therefore we can use the <strong>exact same balancing algorithm</strong>. So when implementing an AVL tree we only need to implement the balancing algorithm once!</p>
<p>In conclusion, AVL trees use rotation to keep the tree balanced. In the worst case height of the tree is <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1.44</mn><mtext> </mtext><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">1.44\ log_2(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1.44</span><span class="mspace"> </span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>, but normally close to <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">log_2(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>.</p>
<h3 id="2-3-trees">2-3 Trees</h3>
<p>2-3 trees is also another <strong>height</strong> balanced trees. 2-3 trees is made from two kinds of nodes:</p>
<ul>
<li>2 - node: Has a key <code>x</code> and two subtrees <code>A</code> and <code>B</code>. Just like in a BST, A &#x3C; x &#x3C; B</li>
<li>3 - node: Has <strong>two</strong> keys <code>x</code>, <code>y</code> with <strong>three</strong> subtrees, A, B, and C. As usual, A &#x3C; x &#x3C; B &#x3C; y &#x3C; C.</li>
</ul>
<h3 id="searching-in-2-3-trees">Searching in 2-3 Trees</h3>
<p>It proceeds just as in a BST. Since - In a 2-node, compare search key against key in node, descend into one of the  two children.</p>
<p>In the case of a 3-node, compare the search key against <strong>both</strong> keys in the node, descend into one of the <strong>three</strong> children.</p>
<h3 id="how-2-3-trees-balance">How 2-3 Trees balance</h3>
<p>In the AVL case we saw that we have to balance via rotations after each insertion/deletion. In the case of a 2-3 tree, we never have to balance since it’s <strong>always</strong> balanced.</p>
<p>Because if one child is null all children must be null together (you can test this if you want by drawing examples). This means the empty trees are all at one level (which implies a balanced tree).</p>
<p>The resulting tree will have a height of between <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>3</mn></msub><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">log_3(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>g</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">lg(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></p>
<h3 id="insertion-in-2-3-trees">Insertion in 2-3 trees</h3>
<p>When we want to insert a new node to a 2-3 tree we use a normal insertion, however, this might break the tree via, for example, an unbalanced tree or a ‘4-node’.</p>
<p>To fix this we use the following algorithm:</p>
<ul>
<li><em>absorb</em> the node into its parent, move up to the parent</li>
<li>If the node is a 4-node, <em>split</em> it into 2-nodes.</li>
</ul>
<p>We keep alternating these 2 steps, we stop once we don’t need to split.</p>
<h3 id="summary-2-3-trees">Summary 2-3 trees</h3>
<p>So conceptually they are quite simple - but the implementation is quite horrible, even though the complexity is great, since the tree is always <strong>perfectly</strong> balanced.</p>
<p>So to fix this we use something called a ‘red-black BSTs’.</p>
<h3 id="red-black-bsts">Red-black BSTs</h3>
<p>A red-black BSTs implement a 2-3 tree <em>using a BST</em>. We can see a 2-3 node as a BST tree since - a 2-node becomes a regular BST node, however, a 3-node becomes <strong>two</strong> BST nodes.</p>
<p>The name ‘red-black’ comes from that we color the BST nodes in order to distinguish 2-nodes from 3-nodes.</p>
<p>2-nodes become black and 3-nodes become black with <em>red child</em>. So red is ‘only part of a 3-node’.</p>
<p>So a Red-black BST is really just a 2-3 but store it in a BST since we translate it to the corresponding 2-3 tree.</p>
<h3 id="red-black-tree-invariant">Red-black Tree Invariant</h3>
<p>The invariant that we must uphold for a red-black tree is:</p>
<ul>
<li>A red node may only occur as the <em>left</em> child of a <em>black</em> node</li>
<li>Black balance: on any path from the root to a null, we pass through the same number of black nodes</li>
<li>And the BST invariant must also hold.</li>
</ul>
<h3 id="red-black-bst-insertion">Red-black BST Insertion</h3>
<p>To make an insertion into a red-black tree, we first make a normal BST insertion, the newly added node is a <em>red</em> node.</p>
<p>This may break our invariant on red nodes, but this way we always keep the black balance and BST properties.</p>
<p>But this way we’ll only break the invariant by placing a red node in a forbidden place. There are 3 cases which this will happen.</p>
<h4 id="case-1-skew">Case 1: Skew</h4>
<p>In a skew case, we have placed it to the right of a 2-node (black node) and therefore broken the first rule. We fix it by an operation called <em>skewing</em>.</p>
<p>Which is a kind of rotation, we’ll look at the implementation later.</p>
<h4 id="case-2-split">Case 2: Split</h4>
<p>In a split case we have created a 4-node (or a red having a red child), therefore we need to split it into 2-nodes.
In the case of splitting, we may break the black balance which means we need to continue up recursively</p>
<h4 id="case-3-red-root-node">Case 3: Red Root Node</h4>
<p>After a split, we might end up with a red node as the <em>root</em> of the whole tree. In a case like this, the fix is simple, we just make the root a black node instead!</p>
<h3 id="red-black-tree-implementation">Red-black Tree Implementation</h3>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="plaintext"><code><span class="line"><span>class RBNode:</span></span>
<span class="line"><span>    def __init__(self, val):</span></span>
<span class="line"><span>        self.red = False</span></span>
<span class="line"><span>        self.parent = None</span></span>
<span class="line"><span>        self.val = val</span></span>
<span class="line"><span>        self.left = None</span></span>
<span class="line"><span>        self.right = None</span></span>
<span class="line"><span></span></span>
<span class="line"><span>class RBTree:</span></span>
<span class="line"><span>    def __init__(self):</span></span>
<span class="line"><span>        self.nil = RBNode(0)</span></span>
<span class="line"><span>        self.nil.red = False</span></span>
<span class="line"><span>        self.nil.left = None</span></span>
<span class="line"><span>        self.nil.right = None</span></span>
<span class="line"><span>        self.root = self.nil</span></span>
<span class="line"><span></span></span>
<span class="line"><span>def insert(self, val):</span></span>
<span class="line"><span>    new_node = RBNode(val)</span></span>
<span class="line"><span>    new_node.parent = None</span></span>
<span class="line"><span>    new_node.left = self.nil</span></span>
<span class="line"><span>    new_node.right = self.nil</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    # New node must be red</span></span>
<span class="line"><span>    new_node.red = True</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    parent = None</span></span>
<span class="line"><span>    current = self.root</span></span>
<span class="line"><span>    while current != self.nil:</span></span>
<span class="line"><span>        parent = current</span></span>
<span class="line"><span>        if new_node.val &#x3C; current.val:</span></span>
<span class="line"><span>            current = current.left</span></span>
<span class="line"><span>        elif new_node.val > current.val:</span></span>
<span class="line"><span>            current = current.right</span></span>
<span class="line"><span>        else:</span></span>
<span class="line"><span>            return</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    new_node.parent = parent</span></span>
<span class="line"><span>    if parent == None:</span></span>
<span class="line"><span>        self.root = new_node</span></span>
<span class="line"><span>    elif new_node.val &#x3C; parent.val:</span></span>
<span class="line"><span>        parent.left = new_node</span></span>
<span class="line"><span>    else:</span></span>
<span class="line"><span>        parent.right = new_node</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    self.fix_insert(new_node)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>def rotate_left(self, x):</span></span>
<span class="line"><span>    y = x.right</span></span>
<span class="line"><span>    x.right = y.left</span></span>
<span class="line"><span>    if y.left != self.nil:</span></span>
<span class="line"><span>        y.left.parent = x</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    y.parent = x.parent</span></span>
<span class="line"><span>    if x.parent == None:</span></span>
<span class="line"><span>        self.root = y</span></span>
<span class="line"><span>    elif x == x.parent.left:</span></span>
<span class="line"><span>        x.parent.left = y</span></span>
<span class="line"><span>    else:</span></span>
<span class="line"><span>        x.parent.right = y</span></span>
<span class="line"><span>    y.left = x</span></span>
<span class="line"><span>    x.parent = y</span></span>
<span class="line"><span></span></span>
<span class="line"><span>def rotate_right(self, x):</span></span>
<span class="line"><span>    y = x.left</span></span>
<span class="line"><span>    x.left = y.right</span></span>
<span class="line"><span>    if y.right != self.nil:</span></span>
<span class="line"><span>        y.right.parent = x</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    y.parent = x.parent</span></span>
<span class="line"><span>    if x.parent == None:</span></span>
<span class="line"><span>        self.root = y</span></span>
<span class="line"><span>    elif x == x.parent.right:</span></span>
<span class="line"><span>        x.parent.right = y</span></span>
<span class="line"><span>    else:</span></span>
<span class="line"><span>        x.parent.left = y</span></span>
<span class="line"><span>    y.right = x</span></span>
<span class="line"><span>    x.parent = y</span></span>
<span class="line"><span></span></span>
<span class="line"><span>def fix_insert(self, new_node):</span></span>
<span class="line"><span>    while new_node != self.root and new_node.parent.red:</span></span>
<span class="line"><span>        if new_node.parent == new_node.parent.parent.right:</span></span>
<span class="line"><span>            u = new_node.parent.parent.left  # uncle</span></span>
<span class="line"><span>            if u.red:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>                u.red = False</span></span>
<span class="line"><span>                new_node.parent.red = False</span></span>
<span class="line"><span>                new_node.parent.parent.red = True</span></span>
<span class="line"><span>                new_node = new_node.parent.parent</span></span>
<span class="line"><span>            else:</span></span>
<span class="line"><span>                if new_node == new_node.parent.left:</span></span>
<span class="line"><span>                    new_node = new_node.parent</span></span>
<span class="line"><span>                    self.rotate_right(new_node)</span></span>
<span class="line"><span>                new_node.parent.red = False</span></span>
<span class="line"><span>                new_node.parent.parent.red = True</span></span>
<span class="line"><span>                self.rotate_left(new_node.parent.parent)</span></span>
<span class="line"><span>        else:</span></span>
<span class="line"><span>            u = new_node.parent.parent.right  # uncle</span></span>
<span class="line"><span></span></span>
<span class="line"><span>            if u.red:</span></span>
<span class="line"><span>                u.red = False</span></span>
<span class="line"><span>                new_node.parent.red = False</span></span>
<span class="line"><span>                new_node.parent.parent.red = True</span></span>
<span class="line"><span>                new_node = new_node.parent.parent</span></span>
<span class="line"><span>            else:</span></span>
<span class="line"><span>                if new_node == new_node.parent.right:</span></span>
<span class="line"><span>                    new_node = new_node.parent</span></span>
<span class="line"><span>                    self.rotate_left(new_node)</span></span>
<span class="line"><span>                new_node.parent.red = False</span></span>
<span class="line"><span>                new_node.parent.parent.red = True</span></span>
<span class="line"><span>                self.rotate_right(new_node.parent.parent)</span></span>
<span class="line"><span>    self.root.red = False</span></span>
<span class="line"><span></span></span>
<span class="line"><span>def exists(self, val):</span></span>
<span class="line"><span>    curr = self.root</span></span>
<span class="line"><span>    while curr != self.nil and val != curr.val:</span></span>
<span class="line"><span>        if val &#x3C; curr.val:</span></span>
<span class="line"><span>            curr = curr.left</span></span>
<span class="line"><span>        else:</span></span>
<span class="line"><span>            curr = curr.right</span></span>
<span class="line"><span>    return curr</span></span>
<span class="line"><span></span></span></code></pre>
<h3 id="red-black-tree-summary">Red-black Tree Summary</h3>
<p>Red-black trees are 2-3 trees implemented using a BST - they have the invariant that they have to correspond to a perfectly balanced 2-3 tree.</p>
<p>Update strategy is: Insert in a way that break the rules on red nodes, then fix it.</p>
<p>They have logarithmic performance - worst case the height is <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mtext> </mtext><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">2\ log(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mspace"> </span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></p>
<p>This was the end of this part - it was a lot to process, it was a lot for me as well :). In the next part we’ll cover priority queues and how they can be implemented as a kind of tree :).</p>  <nav class="flex flex-col sm:flex-row justify-between mt-8 pt-4 border-t border-border" data-astro-cid-v5ro3oot> <a href="/school/dat038/dat038_5" class="nav-button prev-button mb-4 sm:mb-0" data-astro-cid-v5ro3oot> <span class="arrow" data-astro-cid-v5ro3oot>←</span> <span class="text" data-astro-cid-v5ro3oot> <span class="label" data-astro-cid-v5ro3oot>Previous</span> <span class="title" data-astro-cid-v5ro3oot>Part 5 - Hash Tables</span> </span> </a> <a href="/school/dat038/dat038_7" class="nav-button next-button" data-astro-cid-v5ro3oot> <span class="text" data-astro-cid-v5ro3oot> <span class="label" data-astro-cid-v5ro3oot>Next</span> <span class="title" data-astro-cid-v5ro3oot>Part 7 - Binary Heaps</span> </span> <span class="arrow" data-astro-cid-v5ro3oot>→</span> </a> </nav> </article>  </main> <div class="hidden md:block"> <div class="vertical-marquee-container right" data-astro-cid-47hzastc> <div class="vertical-marquee" data-astro-cid-47hzastc> <div key="0" class="marquee-item" data-astro-cid-47hzastc>memento mori • amor fati • sic parvis magna • per aspera ad astra • carthago delenda est • vincit qui se vincit</div><div key="1" class="marquee-item" data-astro-cid-47hzastc>memento mori • amor fati • sic parvis magna • per aspera ad astra • carthago delenda est • vincit qui se vincit</div><div key="2" class="marquee-item" data-astro-cid-47hzastc>memento mori • amor fati • sic parvis magna • per aspera ad astra • carthago delenda est • vincit qui se vincit</div><div key="3" class="marquee-item" data-astro-cid-47hzastc>memento mori • amor fati • sic parvis magna • per aspera ad astra • carthago delenda est • vincit qui se vincit</div><div key="4" class="marquee-item" data-astro-cid-47hzastc>memento mori • amor fati • sic parvis magna • per aspera ad astra • carthago delenda est • vincit qui se vincit</div><div key="5" class="marquee-item" data-astro-cid-47hzastc>memento mori • amor fati • sic parvis magna • per aspera ad astra • carthago delenda est • vincit qui se vincit</div><div key="6" class="marquee-item" data-astro-cid-47hzastc>memento mori • amor fati • sic parvis magna • per aspera ad astra • carthago delenda est • vincit qui se vincit</div><div key="7" class="marquee-item" data-astro-cid-47hzastc>memento mori • amor fati • sic parvis magna • per aspera ad astra • carthago delenda est • vincit qui se vincit</div><div key="8" class="marquee-item" data-astro-cid-47hzastc>memento mori • amor fati • sic parvis magna • per aspera ad astra • carthago delenda est • vincit qui se vincit</div><div key="9" class="marquee-item" data-astro-cid-47hzastc>memento mori • amor fati • sic parvis magna • per aspera ad astra • carthago delenda est • vincit qui se vincit</div> </div> </div>  </div> <aside class="hidden md:block md:w-64 md:border-l md:border-t-0 border-[var(--border-color)] border-dashed relative"> <div class="right-images-view parent-container" id="right-images-view" data-astro-cid-nbc4lsjz> <div class="overlay-gradient" data-astro-cid-nbc4lsjz></div> <div class="image-container" data-astro-cid-nbc4lsjz> <div class="media-wrapper" data-astro-cid-nbc4lsjz> <img src="/images/hard/ea9da47bbea37a567640daeb0894f2d0.jpg" alt="1" class="carousel-image" loading="eager" data-astro-cid-nbc4lsjz width="200" height="200" decoding="async"> </div><div class="media-wrapper" data-astro-cid-nbc4lsjz> <img src="/images/hard/20230810_150419.jpg" alt="2" class="carousel-image" loading="eager" data-astro-cid-nbc4lsjz width="200" height="200" decoding="async"> </div><div class="media-wrapper" data-astro-cid-nbc4lsjz> <img src="/images/hard/20231008_182945.jpg" alt="3" class="carousel-image" loading="eager" data-astro-cid-nbc4lsjz width="200" height="200" decoding="async"> </div><div class="media-wrapper" data-astro-cid-nbc4lsjz> <img src="/images/hard/SR71_crew.jpg" alt="4" class="carousel-image" loading="eager" data-astro-cid-nbc4lsjz width="200" height="200" decoding="async"> </div><div class="media-wrapper" data-astro-cid-nbc4lsjz> <img src="/images/hard/089a7591-bbe0-4892-a696-3e1283df1116_1280x843.png" alt="5" class="carousel-image" loading="eager" data-astro-cid-nbc4lsjz width="200" height="200" decoding="async"> </div><div class="media-wrapper" data-astro-cid-nbc4lsjz> <img src="/images/hard/20230902_143411.jpg" alt="6" class="carousel-image" loading="eager" data-astro-cid-nbc4lsjz width="200" height="200" decoding="async"> </div><div class="media-wrapper" data-astro-cid-nbc4lsjz> <img src="/images/hard/l.JPG" alt="7" class="carousel-image" loading="eager" data-astro-cid-nbc4lsjz width="200" height="200" decoding="async"> </div><div class="media-wrapper" data-astro-cid-nbc4lsjz> <img src="/images/hard/20231002_204509.jpg" alt="8" class="carousel-image" loading="eager" data-astro-cid-nbc4lsjz width="200" height="200" decoding="async"> </div><div class="media-wrapper" data-astro-cid-nbc4lsjz> <img src="/images/hard/20231101_130504.jpg" alt="9" class="carousel-image" loading="eager" data-astro-cid-nbc4lsjz width="200" height="200" decoding="async"> </div><div class="media-wrapper" data-astro-cid-nbc4lsjz> <img src="/images/hard/20230813_093431.jpg" alt="10" class="carousel-image" loading="eager" data-astro-cid-nbc4lsjz width="200" height="200" decoding="async"> </div><div class="media-wrapper" data-astro-cid-nbc4lsjz> <img src="/images/hard/20230419_225615.jpg" alt="11" class="carousel-image" loading="eager" data-astro-cid-nbc4lsjz width="200" height="200" decoding="async"> </div><div class="media-wrapper" data-astro-cid-nbc4lsjz> <img src="/images/hard/BASED.jpg" alt="12" class="carousel-image" loading="eager" data-astro-cid-nbc4lsjz width="200" height="200" decoding="async"> </div><div class="media-wrapper" data-astro-cid-nbc4lsjz> <img src="/images/hard/20230714_020855.jpg" alt="13" class="carousel-image" loading="eager" data-astro-cid-nbc4lsjz width="200" height="200" decoding="async"> </div><div class="media-wrapper" data-astro-cid-nbc4lsjz> <img src="/images/hard/20231007_193505.jpg" alt="14" class="carousel-image" loading="eager" data-astro-cid-nbc4lsjz width="200" height="200" decoding="async"> </div><div class="media-wrapper" data-astro-cid-nbc4lsjz> <img src="/images/hard/csm_Shannon2_MIT_Museum_86bb6cc755.jpg" alt="15" class="carousel-image" loading="eager" data-astro-cid-nbc4lsjz width="200" height="200" decoding="async"> </div><div class="media-wrapper" data-astro-cid-nbc4lsjz> <img src="/images/hard/20240315_221811.jpg" alt="16" class="carousel-image" loading="eager" data-astro-cid-nbc4lsjz width="200" height="200" decoding="async"> </div><div class="media-wrapper" data-astro-cid-nbc4lsjz> <img src="/images/hard/20230808_222706.jpg" alt="17" class="carousel-image" loading="eager" data-astro-cid-nbc4lsjz width="200" height="200" decoding="async"> </div><div class="media-wrapper" data-astro-cid-nbc4lsjz> <img src="/images/hard/339e4826-83bc-47d1-aa6c-f9df1932ae23_1000x750.webp" alt="18" class="carousel-image" loading="eager" data-astro-cid-nbc4lsjz width="200" height="200" decoding="async"> </div><div class="media-wrapper" data-astro-cid-nbc4lsjz> <img src="/images/hard/20240323_220150.jpg" alt="19" class="carousel-image" loading="eager" data-astro-cid-nbc4lsjz width="200" height="200" decoding="async"> </div><div class="media-wrapper" data-astro-cid-nbc4lsjz> <img src="/images/hard/20230815_232746.jpg" alt="20" class="carousel-image" loading="eager" data-astro-cid-nbc4lsjz width="200" height="200" decoding="async"> </div><div class="media-wrapper" data-astro-cid-nbc4lsjz> <img src="/images/hard/20230526_170311.jpg" alt="21" class="carousel-image" loading="eager" data-astro-cid-nbc4lsjz width="200" height="200" decoding="async"> </div><div class="media-wrapper" data-astro-cid-nbc4lsjz> <img src="/images/hard/20231007_193501.jpg" alt="22" class="carousel-image" loading="eager" data-astro-cid-nbc4lsjz width="200" height="200" decoding="async"> </div><div class="media-wrapper" data-astro-cid-nbc4lsjz> <img src="/images/hard/20230527_164122.jpg" alt="23" class="carousel-image" loading="eager" data-astro-cid-nbc4lsjz width="200" height="200" decoding="async"> </div><div class="media-wrapper" data-astro-cid-nbc4lsjz> <img src="/images/hard/20230813_140522.jpg" alt="24" class="carousel-image" loading="eager" data-astro-cid-nbc4lsjz width="200" height="200" decoding="async"> </div><div class="media-wrapper" data-astro-cid-nbc4lsjz> <img src="/images/hard/20231007_193524.jpg" alt="25" class="carousel-image" loading="eager" data-astro-cid-nbc4lsjz width="200" height="200" decoding="async"> </div> </div> </div>  </aside> </div> </body></html> 