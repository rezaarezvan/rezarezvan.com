<!DOCTYPE html>
<html><head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge"><title>rezvan | Part 1 - Introduction</title><link rel="icon" type="image/png" href="https://rezvan.xyz/images/icon.png" /><meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description"
        content="In this series we&rsquo;ll understand and learn how to compute, quantify and, measure the performance of different systems and programs.
To compute, quantify and, measure performance let&rsquo;s start by first defining what performance depends on.
Performance dependencies When we&rsquo;re making a system or a program a lot of different factors will weigh in the total performance:
The underlying algorithm
Determines number of operations required, which directly impacts the performance. Programming language, compile, and, architecture of choice." />
    <meta property="og:image" content="https://raw.githubusercontent.com/rezaarezvan/rezvan.xyz/main/images/icon.png" />
    <meta property="og:url" content="https://rezvan.xyz/school/eda333/eda333/">
  <meta property="og:site_name" content="rezvan">
  <meta property="og:title" content="Part 1 - Introduction">
  <meta property="og:description" content="In this series we’ll understand and learn how to compute, quantify and, measure the performance of different systems and programs.
To compute, quantify and, measure performance let’s start by first defining what performance depends on.
Performance dependencies When we’re making a system or a program a lot of different factors will weigh in the total performance:
The underlying algorithm
Determines number of operations required, which directly impacts the performance. Programming language, compile, and, architecture of choice.">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="school">
    <meta property="article:published_time" content="2023-03-21T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-05-26T11:09:10+02:00">
<meta name="twitter:card" content="summary"><meta name="twitter:title" content="Part 1 - Introduction">
<meta name="twitter:description" content="In this series we&rsquo;ll understand and learn how to compute, quantify and, measure the performance of different systems and programs.
To compute, quantify and, measure performance let&rsquo;s start by first defining what performance depends on.
Performance dependencies When we&rsquo;re making a system or a program a lot of different factors will weigh in the total performance:
The underlying algorithm
Determines number of operations required, which directly impacts the performance. Programming language, compile, and, architecture of choice.">
<script src="https://rezvan.xyz/js/feather.min.js"></script>
    

    
    
    <link rel="stylesheet" type="text/css" media="screen" href="https://rezvan.xyz/css/main.6ad9c068c7f2d7d0babefb693af3dd601fb7b232014794a999404fb8994937e1.css" />
    <link id="lightSyntaxStyle" rel="stylesheet" type="text/css" media="screen" href="https://rezvan.xyz/css/light_syntax.65408cc3a5c02070b661c3e4e79306fc261cc63620f4adce9a30eafcba4ab79e.css" />
    
    <link id="darkModeStyle" rel="stylesheet" type="text/css" href="https://rezvan.xyz/css/dark.13c6bfb747b76fdd2dc198b1172afdd77e7ce604de43f343ce643378bafc58af.css"  disabled />
    <link id="darkSyntaxStyle" rel="stylesheet" type="text/css" media="screen" href="https://rezvan.xyz/css/dark_syntax.2b10cc1a2156b30874a063b7439a993bc3b43d476c5e1d8598d769c929c7b381.css" />
    

    
    
    <script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
        </script>

    
    <script type="text/x-mathjax-config">
		MathJax.Hub.Config({
			tex2jax: {
				inlineMath: [['$','$'], ['\\(','\\)']],
				displayMath: [['$$','$$'], ['\[','\]']],
				processEscapes: true,
				processEnvironments: true,
				skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
				TeX: { equationNumbers: { autoNumber: "AMS" },
						 extensions: ["AMSmath.js", "AMSsymbols.js"] }
			}
		});
		</script>
    

    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body);"></script>

    
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: "$$", right: "$$", display: true},
                    {left: "$", right: "$", display: false}
                ]
            });
        });
    </script>
    
</head>
<body>
    <div class="content"><header>
    <nav id="site-navbar">
        <div class="menu-items">
            
            <a href="/">home</a>
            
            <a href="/principles">principles</a>
            
            <a href="/cv">cv</a>
            
            <a href="/posts">posts</a>
            
            <a href="/school">school</a>
            
        </div>
        <div class="theme-toggle">
            <span id="dark-mode-toggle" onclick="toggleTheme()"><i data-feather="moon"></i></span>
            <script src="https://rezvan.xyz/js/themetoggle.js"></script>
        </div>
        
    </nav>
</header>

<main>
    <article>
        <div class="title">
            <h1>Part 1 - Introduction</h1>
            <div class="meta">Posted on Mar 21, 2023
            </div>
            <div class="meta">
                (Last updated: May 26, 2024)
            </div>

        </div>
        
        <section class="body">
            <p>In this series we&rsquo;ll understand and learn how to compute, quantify and, measure the performance of different systems and programs.</p>
<p>To compute, quantify and, measure performance let&rsquo;s start by first defining what performance depends on.</p>
<h3 id="performance-dependencies">Performance dependencies</h3>
<p>When we&rsquo;re making a system or a program a lot of different factors will weigh in the total performance:</p>
<ul>
<li>
<p>The underlying algorithm</p>
<ul>
<li>Determines number of operations required, which directly impacts the performance.</li>
</ul>
</li>
<li>
<p>Programming language, compile, and, architecture of choice.</p>
<ul>
<li>Determines number of instructions.</li>
</ul>
</li>
<li>
<p>Processor and memory</p>
<ul>
<li>Determines how quickly each instruction executes</li>
</ul>
</li>
<li>
<p>I/O System (Includes the OS)</p>
<ul>
<li>Determines how quickly each I/O operation executes</li>
</ul>
</li>
</ul>
<h3 id="cpu-time">CPU Time</h3>
<p>We can define CPU time by a very nice equation:
$$
\text{CPU Time} = \frac{\text{Instructions}}{\text{Program}} \cdot\ \frac{\text{Clock cycles}}{\text{Instruction}} \cdot\ \frac{\text{Seconds}}{\text{Clock cycle}}
$$</p>
<p>We will call these as the following:
$$
\text{CPU Time} = IC \cdot\ CPI \cdot\ T_c
$$</p>
<p>One way to actually then measure computers or programs is using SPEC.</p>
<p>SPEC, or <strong>S</strong>tandard <strong>P</strong>erformance <strong>E</strong>valuation <strong>C</strong>orp, is a company which specialize in measuring.</p>
<p>The idea is to normalize compared to a reference computer using geometric means.</p>
<p>This is called the SPECvalue.</p>
<p>Geometric mean:
$$
\sqrt[n]{\prod_{i = 1}^{n} \text{Execution time ratio}_i}
$$</p>
<h3 id="risccisc-architecture">RISC/CISC Architecture</h3>
<p>In the early days, it was thought that, if we made the machine instructions closer to real (higher-level) programming functions,
it would be faster for the computer.</p>
<p>We now know this is not true, and machine instructions are therefore as small and atomic as possible.
These two approaches are known as RISC and CISC.</p>
<ul>
<li>RISC (<strong>R</strong>educed <strong>I</strong>nstruction <strong>S</strong>et <strong>C</strong>omputers)</li>
<li>CISC (<strong>C</strong>omplex <strong>I</strong>nstruction <strong>S</strong>et <strong>C</strong>omputers)</li>
</ul>
<h3 id="mips">MIPS</h3>
<p>In this series we will use a MIPS instruction set, MIPS is still used widely in the real world, but it&rsquo;s slowly fading away to due RISC V&rsquo;s popularity.</p>
<p>Let&rsquo;s see some MIPS operations:</p>
<h4 id="arithmetic-operations">Arithmetic operations</h4>
<pre tabindex="0"><code>add a, b, c # a := b + c
</code></pre><p>All arithmetic operations have this form, two source register and one destination registers.</p>
<p>We also see that comments are denoted by a <code>#</code> in MIPS programs.</p>
<h4 id="register-operations">Register operations</h4>
<p>All operations in assembly languages utilize <em>registers</em>.</p>
<p>MIPS has a 32 x 32 bit <strong>register file</strong> (RF)</p>
<p>They are numbered 0 to 31 and, just a refresher, 32-bit data is called a &ldquo;word&rdquo;.</p>
<p>Example:</p>
<pre tabindex="0"><code>f = (g + h) - (i + j);
</code></pre><p>Given that $f, \ldots, j$ are in registers $s_0, \ldots, s_4$, in MIPS this will become:</p>
<pre tabindex="0"><code>add $t0, $s1, $s2 # temp0 := g + h
add $t1, $s3, $s4 # temp1 := i + j
sub $s0, $t0, $t1 # f := t0 - t1
</code></pre><h4 id="memory-operations">Memory operations</h4>
<p>Since MIPS is byte addressable, it means that each &ldquo;word&rdquo; has 4 bytes.
Also good to note here is that MIPS uses <strong>big endian</strong></p>
<p>Example:</p>
<pre tabindex="0"><code>g = h + A[8];
</code></pre><p>Given that g is in $s_1$, h in $s_2$ and, the starting address for A is at $s_3$</p>
<p>We will get the following MIPS code:</p>
<pre tabindex="0"><code>lw $t0, 32($s3)     # load word
add $s1, $s2, $t0
</code></pre><p>Example 2:</p>
<pre tabindex="0"><code>A[12] = h + A[8];
</code></pre><p>Given that h is in $s_2$, and, the starting address for A is at $s_3$</p>
<pre tabindex="0"><code>lw $t0, 32($s3)     # load word
add $t0, $s2, $t0
sw $t0, 48($s3)     # store word
</code></pre><h4 id="immediate-operations">Immediate operations</h4>
<p>Instead of, for example, adding two registers, we may just want to add a constant, this can be done via:</p>
<pre tabindex="0"><code>addi $s3, $s3, 4
</code></pre><p>For subtracting we just do:</p>
<pre tabindex="0"><code>addi $s2, $s1, -1
</code></pre><h4 id="zero-register">Zero register</h4>
<p>In MIPS there is a hard-coded zero register, that always contains the value zero, this can be used to quickly move values between registers:</p>
<pre tabindex="0"><code>add $t2, $s1, $zero     # t2 := s1
</code></pre><h4 id="logical-operations">Logical operations</h4>
<p>In MIPS there are of course logical operations:</p>
<pre tabindex="0"><code># Logical Shifts
sll $t0, $t1, 2     # t0 := t1 * 4
srl $t0, $t1, 2     # t0 := t1 / 4

# Logical AND
and $t0, $t1, $t2   # t0 := t1 &amp; t2
andi $t0, $t1, 2   # t0 := t1 &amp; 2

# Logical OR
or $t0, $t1, $t2   # t0 := t1 | t2
ori $t0, $t1, 2   # t0 := t1 | 2

# Logical NOT
nor $t0, $t1, $zero # := NOT(t1)
</code></pre><p>Notice there isn&rsquo;t an explicit <code>not</code> operation, but rather we use a <code>nor</code> operation with the zero register.</p>
<h4 id="conditional-jumps">Conditional jumps</h4>
<p>In MIPS there is only two conditional jumps, <code>beq</code> and <code>bne</code>:</p>
<pre tabindex="0"><code>beq rs, rt, L1 # if(rs == rt); Jump to L1
bne rs, rt, L1 # if(rs != rt); Jump to L1
j L1           # Jump to L1
</code></pre><p>So for example the following C-code:</p>
<pre tabindex="0"><code>if(i == j) {
    f = g + h;
} else {
    f = g - h;
}
</code></pre><p>Given that $f, g, \ldots$ is in $s_0, s_1, \ldots$</p>
<p>MIPS:</p>
<pre tabindex="0"><code>bne $s3, $s4, Else # if(i == j) jump to Else
add $s0, $s1, $s2  # f = g + h
j Exit             # Jump to exit

Else: sub $s0, $s1, $s2 # f = g - h
Exit: ...
</code></pre><p>Notice how there isn&rsquo;t any usual <code>blt, bge</code>, since MIPS is of RISC architecture, we don&rsquo;t need those.</p>
<p>Instead, what we can do is using <code>slt</code>. Which stands for set less than, we can now use this to replicate a <code>blt</code> or <code>bge</code>.</p>
<p>However, <code>blt, bge</code> are still pseudo-keywords in MIPS. The assembler will still be able to interpret these.</p>
<p>On the topic of pseudo-keywords, things like <code>move</code> and <code>li</code> are also pseudo-keywords.</p>

        </section>
    </article>

    <nav class="navigation">
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        

        
        

        <div class="nav-item previous">
            
        </div>

        <div class="nav-item next">
            
            
            <a href="/school/eda333/eda333_2/" title="Next: Part 2 - MIPS">Next &rarr;</a>
            
            
        </div>
    </nav>
</main>
<footer id="site-footer">
    <div class="social-links">
        
        <a href="https://github.com/rezaarezvan" title="">github</a>
        
        <a href="https://x.com/rzvan__/" title="">x</a>
        
    </div><p class="footer-msg">memento mori</p>
</footer></div>
</body>

</html>
