<!DOCTYPE html>
<html><head lang="en">
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge"><title>rezvan | Introduction to data science and AI: Part 2 - Python tools for data science</title><link rel="icon" type="image/png" href="/icon.png" /><meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description"
        content="Introduction In this part we&rsquo;re going to explore some popular Python tools for data science.
NumPy Numerical Python, is the standard package for computation and array operations.
Low-level functions are written in C, therefore, very fast.
Basic operations in NumPy We usually import as:
import numpy as np NumPy arrays can be constructed with the following:
A = np.array([69, 420, 1337, 42]) A NumPy array is defined by:
The number of dimensions it has (ndim) The number of elements it has (size) Its shape (number of elements along an axis) Its dtype A = np." />
    <meta property="og:image" content="https://raw.githubusercontent.com/rezaarezvan/rezvan.xyz/main/images/icon.png" />
    <meta property="og:title" content="Introduction to data science and AI: Part 2 - Python tools for data science" />
<meta property="og:description" content="Introduction In this part we&rsquo;re going to explore some popular Python tools for data science.
NumPy Numerical Python, is the standard package for computation and array operations.
Low-level functions are written in C, therefore, very fast.
Basic operations in NumPy We usually import as:
import numpy as np NumPy arrays can be constructed with the following:
A = np.array([69, 420, 1337, 42]) A NumPy array is defined by:
The number of dimensions it has (ndim) The number of elements it has (size) Its shape (number of elements along an axis) Its dtype A = np." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://rezvan.xyz/school/DAT565/DAT565_2/" /><meta property="article:section" content="school" />
<meta property="article:published_time" content="2024-01-19T00:00:00+00:00" />
<meta property="article:modified_time" content="2024-01-19T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Introduction to data science and AI: Part 2 - Python tools for data science"/>
<meta name="twitter:description" content="Introduction In this part we&rsquo;re going to explore some popular Python tools for data science.
NumPy Numerical Python, is the standard package for computation and array operations.
Low-level functions are written in C, therefore, very fast.
Basic operations in NumPy We usually import as:
import numpy as np NumPy arrays can be constructed with the following:
A = np.array([69, 420, 1337, 42]) A NumPy array is defined by:
The number of dimensions it has (ndim) The number of elements it has (size) Its shape (number of elements along an axis) Its dtype A = np."/>
<script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@1,500&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Sans&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet">

    
    
    <link rel="stylesheet" type="text/css" media="screen" href="https://rezvan.xyz/css/main.01f5dc4caaa8cbe107519bd95be3286f9d019f7927c58eb9fc8afb7b77ce024c.css" />
    <link id="lightSyntaxStyle" rel="stylesheet" type="text/css" media="screen" href="https://rezvan.xyz/css/light_syntax.65408cc3a5c02070b661c3e4e79306fc261cc63620f4adce9a30eafcba4ab79e.css" />
    
    <link id="darkModeStyle" rel="stylesheet" type="text/css" href="https://rezvan.xyz/css/dark.6aad4c598ab190caf874a36cb8f3763483dd65adaba8db0b5fe8361a123b3951.css"  disabled />
    <link id="darkSyntaxStyle" rel="stylesheet" type="text/css" media="screen" href="https://rezvan.xyz/css/dark_syntax.2b10cc1a2156b30874a063b7439a993bc3b43d476c5e1d8598d769c929c7b381.css" />
    

    
    
    <script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
        </script>

    
    <script type="text/x-mathjax-config">
		MathJax.Hub.Config({
			tex2jax: {
				inlineMath: [['$','$'], ['\\(','\\)']],
				displayMath: [['$$','$$'], ['\[','\]']],
				processEscapes: true,
				processEnvironments: true,
				skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
				TeX: { equationNumbers: { autoNumber: "AMS" },
						 extensions: ["AMSmath.js", "AMSsymbols.js"] }
			}
		});
		</script>
    

    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body);"></script>

    
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: "$$", right: "$$", display: true},
                    {left: "$", right: "$", display: false}
                ]
            });
        });
    </script>
    

    
</head>
<body>
    <div class="content"><header>
    <div class="main">
        <a href="https://rezvan.xyz/">rezvan</a>
    </div>
    <nav id="site-navbar">
        
        <a href="/">home</a>
        
        <a href="/about">about</a>
        
        <a href="/principles">principles</a>
        
        <a href="/contact">contact</a>
        
        <a href="/cv">cv</a>
        
        <a href="/school">school</a>
        
        <a href="/tags">tags</a>
        
        | <span id="dark-mode-toggle" onclick="toggleTheme()"></span>
        <script src="https://rezvan.xyz/js/themetoggle.js"></script>
        
    </nav>
</header>

<main>
    <article>
        <div class="title">
            <h1 class="title">Introduction to data science and AI: Part 2 - Python tools for data science</h1>
            <div class="meta">Posted on Jan 19, 2024</div>
        </div>
        

        <section class="body">
            <h3 id="introduction">Introduction</h3>
<p>In this part we&rsquo;re going to explore some popular Python tools for data science.</p>
<h4 id="numpy">NumPy</h4>
<p><strong>Num</strong>erical <strong>Py</strong>thon, is the standard package for computation and array operations.</p>
<p>Low-level functions are written in C, therefore, very fast.</p>
<h3 id="basic-operations-in-numpy">Basic operations in NumPy</h3>
<p>We usually import as:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</span></span></code></pre></div><p>NumPy arrays can be constructed with the following:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">69</span><span class="p">,</span> <span class="mi">420</span><span class="p">,</span> <span class="mi">1337</span><span class="p">,</span> <span class="mi">42</span><span class="p">])</span>
</span></span></code></pre></div><p>A NumPy array is defined by:</p>
<ul>
<li>The number of dimensions it has (<code>ndim</code>)</li>
<li>The number of elements it has (<code>size</code>)</li>
<li>Its <code>shape</code> (number of elements along an axis)</li>
<li>Its <code>dtype</code></li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">69</span><span class="p">,</span> <span class="mi">420</span><span class="p">,</span> <span class="mi">1337</span><span class="p">,</span> <span class="mi">42</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="c1"># A.ndim = 1</span>
</span></span><span class="line"><span class="cl"><span class="c1"># A.size = 4</span>
</span></span><span class="line"><span class="cl"><span class="c1"># A.shape = (4, )</span>
</span></span><span class="line"><span class="cl"><span class="c1"># A.dtype = int64</span>
</span></span></code></pre></div><p>We can either specify the <code>dtype</code> or let NumPy automatically assign it.</p>
<p>Different ways to create NumPy arrays that we usually use:</p>
<ul>
<li><code>arange</code> construct numbers from a range.</li>
<li><code>zeros</code> creates an array full of zeros, with any shape.</li>
<li><code>ones</code> creates an array full of ones, with any shape.</li>
<li><code>eye</code> creates the identity array.</li>
<li><code>full</code> creates an array filled with a specific element/array.</li>
</ul>
<p>We can <code>reshape</code> our arrays and matrix, the new shape must have equal size (product of the shape).</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">69</span><span class="p">,</span> <span class="mi">420</span><span class="p">,</span> <span class="mi">1337</span><span class="p">,</span> <span class="mi">42</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="n">A</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="s1">&#39;&#39;&#39;
</span></span></span><span class="line"><span class="cl"><span class="s1">[[69, 420],
</span></span></span><span class="line"><span class="cl"><span class="s1"> [1337, 42]]
</span></span></span><span class="line"><span class="cl"><span class="s1">&#39;&#39;&#39;</span>
</span></span></code></pre></div><p>This does not make a copy, this returns a <em>view</em> (basically a pointer).</p>
<p>We can <em>transpose</em> our arrays and matrix as well:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">69</span><span class="p">,</span> <span class="mi">420</span><span class="p">,</span> <span class="mi">1337</span><span class="p">,</span> <span class="mi">42</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="n">A</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
</span></span><span class="line"><span class="cl"><span class="s1">&#39;&#39;&#39;
</span></span></span><span class="line"><span class="cl"><span class="s1">[[69, 1337],
</span></span></span><span class="line"><span class="cl"><span class="s1"> [420, 42]]
</span></span></span><span class="line"><span class="cl"><span class="s1">&#39;&#39;&#39;</span>
</span></span></code></pre></div><p>We can change the dtype with the <code>.astype()</code> function:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">69</span><span class="p">,</span> <span class="mi">420</span><span class="p">,</span> <span class="mi">1337</span><span class="p">,</span> <span class="mi">42</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="n">A</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="s1">&#39;&#39;&#39;
</span></span></span><span class="line"><span class="cl"><span class="s1">[69.0, 420.0, 1337.0, 42.0]
</span></span></span><span class="line"><span class="cl"><span class="s1">&#39;&#39;&#39;</span>
</span></span></code></pre></div><p>We access elements in NumPy arrays with usual bracket notation:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">69</span><span class="p">,</span> <span class="mi">420</span><span class="p">,</span> <span class="mi">1337</span><span class="p">,</span> <span class="mi">42</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="s1">&#39;&#39;&#39;
</span></span></span><span class="line"><span class="cl"><span class="s1">69
</span></span></span><span class="line"><span class="cl"><span class="s1">&#39;&#39;&#39;</span>
</span></span></code></pre></div><p>NumPy supports Python style slicing:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">69</span><span class="p">,</span> <span class="mi">420</span><span class="p">,</span> <span class="mi">1337</span><span class="p">,</span> <span class="mi">42</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="c1"># A[1:-1] = [420, 1337]</span>
</span></span><span class="line"><span class="cl"><span class="c1"># A[::2] = [69, 1337]</span>
</span></span></code></pre></div><p>NumPy supports all basic math operations:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">69</span><span class="p">,</span> <span class="mi">420</span><span class="p">,</span> <span class="mi">1337</span><span class="p">,</span> <span class="mi">42</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="c1"># A + 1 = [70, 421, 1338, 43]</span>
</span></span></code></pre></div><p>There are a lot more functions to <a href="https://numpy.org/doc/">explore</a> :)</p>
<h3 id="matplotlib">Matplotlib</h3>
<p>Matplotlib is the standard way of plotting figures and graphs in Python.
Used for ploting any kind of plot you can think of, scatter plots, line plots, contour plots, etc.</p>
<p>It comes with multiple APIs, but the standard one for Python is the <code>pyplot</code> API. Let&rsquo;s take a look at a practical example.</p>
<h4 id="anscombes-quartet">Anscombe&rsquo;s quartet</h4>
<p><a href="https://en.wikipedia.org/wiki/Anscombe%27s_quartet">Anscombe&rsquo;s quartet</a> is a small dataset that shows the importance of graphing your data when dealing with statistics.</p>
<p>To understand we&rsquo;ll graph this dataset for ourselves:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</span></span></code></pre></div><p>Firstly, let&rsquo;s import numpy for the data processing and matplot for the plotting.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="n">anscombe_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">8.04</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="mf">9.14</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="mf">7.46</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">6.58</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="mf">8.0</span><span class="p">,</span> <span class="mf">6.95</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">8.14</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">6.77</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">5.76</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="mf">13.0</span><span class="p">,</span> <span class="mf">7.58</span><span class="p">,</span> <span class="mf">13.0</span><span class="p">,</span> <span class="mf">8.74</span><span class="p">,</span> <span class="mf">13.0</span><span class="p">,</span> <span class="mf">12.74</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">7.71</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="mf">9.0</span><span class="p">,</span> <span class="mf">8.81</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">,</span> <span class="mf">8.77</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">,</span> <span class="mf">7.11</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">8.84</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="mf">11.0</span><span class="p">,</span> <span class="mf">8.33</span><span class="p">,</span> <span class="mf">11.0</span><span class="p">,</span> <span class="mf">9.26</span><span class="p">,</span> <span class="mf">11.0</span><span class="p">,</span> <span class="mf">7.81</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">8.47</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="mf">14.0</span><span class="p">,</span> <span class="mf">9.96</span><span class="p">,</span> <span class="mf">14.0</span><span class="p">,</span> <span class="mf">8.10</span><span class="p">,</span> <span class="mf">14.0</span><span class="p">,</span> <span class="mf">8.84</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">7.04</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="mf">6.0</span><span class="p">,</span> <span class="mf">7.24</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">,</span> <span class="mf">6.13</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">,</span> <span class="mf">6.08</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">5.25</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="mf">4.0</span><span class="p">,</span> <span class="mf">4.26</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">3.10</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.39</span><span class="p">,</span> <span class="mf">19.0</span><span class="p">,</span> <span class="mf">12.50</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="mf">12.0</span><span class="p">,</span> <span class="mf">10.84</span><span class="p">,</span> <span class="mf">12.0</span><span class="p">,</span> <span class="mf">9.13</span><span class="p">,</span> <span class="mf">12.0</span><span class="p">,</span> <span class="mf">8.15</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">5.56</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="mf">7.0</span><span class="p">,</span> <span class="mf">4.82</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">,</span> <span class="mf">7.26</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">,</span> <span class="mf">6.42</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">7.91</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="mf">5.0</span><span class="p">,</span> <span class="mf">5.68</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">4.74</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">5.73</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">6.89</span><span class="p">])</span>
</span></span></code></pre></div><p>Let&rsquo;s reshape our NumPy array so it is a bit more readble and how it looks in Wikipedia.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="n">anscombe_data</span> <span class="o">=</span> <span class="n">anscombe_data</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="s1">&#39;&#39;&#39;
</span></span></span><span class="line"><span class="cl"><span class="s1">[[[10.    8.04]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [ 8.    6.95]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [13.    7.58]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [ 9.    8.81]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [11.    8.33]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [14.    9.96]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [ 6.    7.24]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [ 4.    4.26]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [12.   10.84]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [ 7.    4.82]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [ 5.    5.68]]
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1"> [[10.    9.14]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [ 8.    8.14]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [13.    8.74]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [ 9.    8.77]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [11.    9.26]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [14.    8.1 ]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [ 6.    6.13]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [ 4.    3.1 ]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [12.    9.13]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [ 7.    7.26]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [ 5.    4.74]]
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1"> [[10.    7.46]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [ 8.    6.77]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [13.   12.74]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [ 9.    7.11]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [11.    7.81]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [14.    8.84]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [ 6.    6.08]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [ 4.    5.39]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [12.    8.15]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [ 7.    6.42]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [ 5.    5.73]]
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1"> [[ 8.    6.58]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [ 8.    5.76]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [ 8.    7.71]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [ 8.    8.84]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [ 8.    8.47]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [ 8.    7.04]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [ 8.    5.25]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [19.   12.5 ]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [ 8.    5.56]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [ 8.    7.91]
</span></span></span><span class="line"><span class="cl"><span class="s1">  [ 8.    6.89]]]
</span></span></span><span class="line"><span class="cl"><span class="s1">&#39;&#39;&#39;</span>
</span></span></code></pre></div><p>Let&rsquo;s break it up into the four indviual datasets:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="n">anscombe</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;I&#39;</span><span class="p">:</span> <span class="n">anscombe_data</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">:,</span> <span class="p">:],</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;II&#39;</span><span class="p">:</span> <span class="n">anscombe_data</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="p">:,</span> <span class="p">:],</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;III&#39;</span><span class="p">:</span> <span class="n">anscombe_data</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="p">:,</span> <span class="p">:],</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;IV&#39;</span><span class="p">:</span> <span class="n">anscombe_data</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="p">:,</span> <span class="p">:]}</span>
</span></span></code></pre></div><p>Before we plot the actual graphs, let&rsquo;s take a loook at the mean, standard devation and variance for all four of the datasets.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">anscombe</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Mean: &#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Standard deviation: &#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">ddof</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Variance: &#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Correlation coefficient: &#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">corrcoef</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="n">value</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">value</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">])[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="s1">&#39;&#39;&#39;
</span></span></span><span class="line"><span class="cl"><span class="s1">I
</span></span></span><span class="line"><span class="cl"><span class="s1">Mean:  [9.         7.50090909]
</span></span></span><span class="line"><span class="cl"><span class="s1">Standard deviation:  [3.31662479 2.03156814]
</span></span></span><span class="line"><span class="cl"><span class="s1">Variance:  [10.          3.75206281]
</span></span></span><span class="line"><span class="cl"><span class="s1">Correlation coefficient:  0.81642051634484
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">II
</span></span></span><span class="line"><span class="cl"><span class="s1">Mean:  [9.         7.50090909]
</span></span></span><span class="line"><span class="cl"><span class="s1">Standard deviation:  [3.31662479 2.03165674]
</span></span></span><span class="line"><span class="cl"><span class="s1">Variance:  [10.          3.75239008]
</span></span></span><span class="line"><span class="cl"><span class="s1">Correlation coefficient:  0.8162365060002428
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">III
</span></span></span><span class="line"><span class="cl"><span class="s1">Mean:  [9.  7.5]
</span></span></span><span class="line"><span class="cl"><span class="s1">Standard deviation:  [3.31662479 2.0304236 ]
</span></span></span><span class="line"><span class="cl"><span class="s1">Variance:  [10.          3.74783636]
</span></span></span><span class="line"><span class="cl"><span class="s1">Correlation coefficient:  0.8162867394895984
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">IV
</span></span></span><span class="line"><span class="cl"><span class="s1">Mean:  [9.         7.50090909]
</span></span></span><span class="line"><span class="cl"><span class="s1">Standard deviation:  [3.31662479 2.03057851]
</span></span></span><span class="line"><span class="cl"><span class="s1">Variance:  [10.          3.74840826]
</span></span></span><span class="line"><span class="cl"><span class="s1">Correlation coefficient:  0.8165214368885028
</span></span></span><span class="line"><span class="cl"><span class="s1">&#39;&#39;&#39;</span>
</span></span></code></pre></div><p>So, from a purerly statistical view, we would think that all these datasets should look <em>somewhat</em> similar, right?</p>
<p>Let&rsquo;s plot them and see. Let&rsquo;s plot them as scatter plots:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">anscombe</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">value</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">value</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span></span></code></pre></div><p><img src="/school/images/viv.png#center" alt="">
<img src="/school/images/ii.png#center" alt="">
<img src="/school/images/ii.png#center" alt="">
<img src="/school/images/iv.png#center" alt=""></p>
<p>Let&rsquo;s plot them all together:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">axs</span><span class="o">.</span><span class="n">ravel</span><span class="p">(),</span> <span class="n">anscombe</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
</span></span><span class="line"><span class="cl">    <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">value</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">value</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;$x$&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;$y$&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span></span></code></pre></div><p><img src="/school/images/anscombe.png#center" alt=""></p>
<p>So, we can see that these datasets, in reality, differ a lot from each other, but seem to have equivalent statistical properties.
We&rsquo;ll look into more statistics later on :).</p>
<h3 id="pandas">Pandas</h3>
<p>The last library we&rsquo;ll cover is the data analysis library Pandas.
When dealing with large datasets, we&rsquo;ll usually want to use common convient functions to read, write and manipulate data fast.</p>
<p>Pandas can make use of NumPy as a backend for some data.</p>
<p>Before jumping into a practial example we&rsquo;re we&rsquo;ll use Pandas, let&rsquo;s first understand how we&rsquo;ll represent data.</p>
<h3 id="wide-and-long-format">Wide and long format</h3>
<p>When we want to represent data, we have two options:</p>
<ul>
<li>In wide format, the data is indexed by first column where the values do not repeat.
<ul>
<li>Different variables for observations are placed on different columns.</li>
</ul>
</li>
<li>In long format, a column indexes the different kinds of observations and another column contains the respective values.</li>
</ul>
<p>Converting data to wide format is called <strong>pivoting</strong>.</p>
<p>Converting data to long format is <strong>unpivoting</strong> or <strong>melting</strong>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="s1">&#39;&#39;&#39;
</span></span></span><span class="line"><span class="cl"><span class="s1">Wide format
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">  Person  Age  Weight  Height
</span></span></span><span class="line"><span class="cl"><span class="s1">0    Bob   32     168     180
</span></span></span><span class="line"><span class="cl"><span class="s1">1  Alice   24     150     175
</span></span></span><span class="line"><span class="cl"><span class="s1">2  Steve   64     144     165
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">Long format
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">  Person Attribute  Value
</span></span></span><span class="line"><span class="cl"><span class="s1">0    Bob       Age     32
</span></span></span><span class="line"><span class="cl"><span class="s1">1    Bob    Weight    168
</span></span></span><span class="line"><span class="cl"><span class="s1">2  Alice       Age     24
</span></span></span><span class="line"><span class="cl"><span class="s1">3  Alice    Weight    150
</span></span></span><span class="line"><span class="cl"><span class="s1">4  Steve       Age     64
</span></span></span><span class="line"><span class="cl"><span class="s1">5  Steve    Weight    144
</span></span></span><span class="line"><span class="cl"><span class="s1">&#39;&#39;&#39;</span>
</span></span></code></pre></div><h3 id="palmer-penguins">Palmer penguins</h3>
<p>We&rsquo;ll use the <a href="https://www.kaggle.com/datasets/parulpandey/palmer-archipelago-antarctica-penguin-data">palmer penguins</a> data set.</p>
<p>Let&rsquo;s import Pandas, note that we don&rsquo;t import NumPy here!</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span></span></code></pre></div><p>Pandas offers a great selection of reading methods for different file formats.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;penguins_size.csv&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="s1">&#39;&#39;&#39;
</span></span></span><span class="line"><span class="cl"><span class="s1">    species     island  culmen_length_mm  culmen_depth_mm  flipper_length_mm  body_mass_g     sex
</span></span></span><span class="line"><span class="cl"><span class="s1">0    Adelie  Torgersen              39.1             18.7              181.0       3750.0    MALE
</span></span></span><span class="line"><span class="cl"><span class="s1">1    Adelie  Torgersen              39.5             17.4              186.0       3800.0  FEMALE
</span></span></span><span class="line"><span class="cl"><span class="s1">2    Adelie  Torgersen              40.3             18.0              195.0       3250.0  FEMALE
</span></span></span><span class="line"><span class="cl"><span class="s1">3    Adelie  Torgersen               NaN              NaN                NaN          NaN     NaN
</span></span></span><span class="line"><span class="cl"><span class="s1">4    Adelie  Torgersen              36.7             19.3              193.0       3450.0  FEMALE
</span></span></span><span class="line"><span class="cl"><span class="s1">..      ...        ...               ...              ...                ...          ...     ...
</span></span></span><span class="line"><span class="cl"><span class="s1">339  Gentoo     Biscoe               NaN              NaN                NaN          NaN     NaN
</span></span></span><span class="line"><span class="cl"><span class="s1">340  Gentoo     Biscoe              46.8             14.3              215.0       4850.0  FEMALE
</span></span></span><span class="line"><span class="cl"><span class="s1">341  Gentoo     Biscoe              50.4             15.7              222.0       5750.0    MALE
</span></span></span><span class="line"><span class="cl"><span class="s1">342  Gentoo     Biscoe              45.2             14.8              212.0       5200.0  FEMALE
</span></span></span><span class="line"><span class="cl"><span class="s1">343  Gentoo     Biscoe              49.9             16.1              213.0       5400.0    MALE
</span></span></span><span class="line"><span class="cl"><span class="s1">&#39;&#39;&#39;</span>
</span></span></code></pre></div><p>To get an overview we can use the <code>.describe()</code> function.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">())</span>
</span></span><span class="line"><span class="cl"><span class="s1">&#39;&#39;&#39;
</span></span></span><span class="line"><span class="cl"><span class="s1">       culmen_length_mm  culmen_depth_mm  flipper_length_mm  body_mass_g
</span></span></span><span class="line"><span class="cl"><span class="s1">count        342.000000       342.000000         342.000000   342.000000
</span></span></span><span class="line"><span class="cl"><span class="s1">mean          43.921930        17.151170         200.915205  4201.754386
</span></span></span><span class="line"><span class="cl"><span class="s1">std            5.459584         1.974793          14.061714   801.954536
</span></span></span><span class="line"><span class="cl"><span class="s1">min           32.100000        13.100000         172.000000  2700.000000
</span></span></span><span class="line"><span class="cl"><span class="s1">25%           39.225000        15.600000         190.000000  3550.000000
</span></span></span><span class="line"><span class="cl"><span class="s1">50%           44.450000        17.300000         197.000000  4050.000000
</span></span></span><span class="line"><span class="cl"><span class="s1">75%           48.500000        18.700000         213.000000  4750.000000
</span></span></span><span class="line"><span class="cl"><span class="s1">max           59.600000        21.500000         231.000000  6300.00000
</span></span></span><span class="line"><span class="cl"><span class="s1">&#39;&#39;&#39;</span>
</span></span></code></pre></div><p>To select a column we can do:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;species&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="s1">&#39;&#39;&#39;
</span></span></span><span class="line"><span class="cl"><span class="s1">0      Adelie
</span></span></span><span class="line"><span class="cl"><span class="s1">1      Adelie
</span></span></span><span class="line"><span class="cl"><span class="s1">2      Adelie
</span></span></span><span class="line"><span class="cl"><span class="s1">3      Adelie
</span></span></span><span class="line"><span class="cl"><span class="s1">4      Adelie
</span></span></span><span class="line"><span class="cl"><span class="s1">        ...
</span></span></span><span class="line"><span class="cl"><span class="s1">339    Gentoo
</span></span></span><span class="line"><span class="cl"><span class="s1">340    Gentoo
</span></span></span><span class="line"><span class="cl"><span class="s1">341    Gentoo
</span></span></span><span class="line"><span class="cl"><span class="s1">342    Gentoo
</span></span></span><span class="line"><span class="cl"><span class="s1">343    Gentoo
</span></span></span><span class="line"><span class="cl"><span class="s1">Name: species, Length: 344, dtype: object
</span></span></span><span class="line"><span class="cl"><span class="s1">&#39;&#39;&#39;</span>
</span></span></code></pre></div><p>We can also select data with <code>.iloc</code> and <code>.loc</code>. <code>iloc</code> is index based.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="s1">&#39;&#39;&#39;
</span></span></span><span class="line"><span class="cl"><span class="s1">species                 Adelie
</span></span></span><span class="line"><span class="cl"><span class="s1">island               Torgersen
</span></span></span><span class="line"><span class="cl"><span class="s1">culmen_length_mm          39.1
</span></span></span><span class="line"><span class="cl"><span class="s1">culmen_depth_mm           18.7
</span></span></span><span class="line"><span class="cl"><span class="s1">flipper_length_mm        181.0
</span></span></span><span class="line"><span class="cl"><span class="s1">body_mass_g             3750.0
</span></span></span><span class="line"><span class="cl"><span class="s1">sex                       MALE
</span></span></span><span class="line"><span class="cl"><span class="s1">Name: 0, dtype: object
</span></span></span><span class="line"><span class="cl"><span class="s1">&#39;&#39;&#39;</span>
</span></span></code></pre></div><p>Where as <code>.loc</code> is string based, in this case both <code>iloc</code> and <code>loc</code> yields the same answer since we group the data with index.
In other datasets we could have a string based index.</p>
<p>We can easily filter and choose the right data with:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;culmen_length_mm&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">40</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="s1">&#39;&#39;&#39;
</span></span></span><span class="line"><span class="cl"><span class="s1">    species     island  culmen_length_mm  culmen_depth_mm  flipper_length_mm  body_mass_g     sex
</span></span></span><span class="line"><span class="cl"><span class="s1">0    Adelie  Torgersen              39.1             18.7              181.0       3750.0    MALE
</span></span></span><span class="line"><span class="cl"><span class="s1">1    Adelie  Torgersen              39.5             17.4              186.0       3800.0  FEMALE
</span></span></span><span class="line"><span class="cl"><span class="s1">4    Adelie  Torgersen              36.7             19.3              193.0       3450.0  FEMALE
</span></span></span><span class="line"><span class="cl"><span class="s1">5    Adelie  Torgersen              39.3             20.6              190.0       3650.0    MALE
</span></span></span><span class="line"><span class="cl"><span class="s1">6    Adelie  Torgersen              38.9             17.8              181.0       3625.0  FEMALE
</span></span></span><span class="line"><span class="cl"><span class="s1">..      ...        ...               ...              ...                ...          ...     ...
</span></span></span><span class="line"><span class="cl"><span class="s1">146  Adelie      Dream              39.2             18.6              190.0       4250.0    MALE
</span></span></span><span class="line"><span class="cl"><span class="s1">147  Adelie      Dream              36.6             18.4              184.0       3475.0  FEMALE
</span></span></span><span class="line"><span class="cl"><span class="s1">148  Adelie      Dream              36.0             17.8              195.0       3450.0  FEMALE
</span></span></span><span class="line"><span class="cl"><span class="s1">149  Adelie      Dream              37.8             18.1              193.0       3750.0    MALE
</span></span></span><span class="line"><span class="cl"><span class="s1">150  Adelie      Dream              36.0             17.1              187.0       3700.0  FEMALE
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">[100 rows x 7 columns]
</span></span></span><span class="line"><span class="cl"><span class="s1">&#39;&#39;&#39;</span>
</span></span></code></pre></div><p>We can have chained boolean expressions with <code>&amp;</code> for AND, <code>|</code> for OR, and <code>~</code> for NOT.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;culmen_length_mm&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">60</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;species&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Gentoo&#39;</span><span class="p">)])</span>
</span></span><span class="line"><span class="cl"><span class="s1">&#39;&#39;&#39;
</span></span></span><span class="line"><span class="cl"><span class="s1">    species  island  culmen_length_mm  culmen_depth_mm  flipper_length_mm  body_mass_g     sex
</span></span></span><span class="line"><span class="cl"><span class="s1">220  Gentoo  Biscoe              46.1             13.2              211.0       4500.0  FEMALE
</span></span></span><span class="line"><span class="cl"><span class="s1">221  Gentoo  Biscoe              50.0             16.3              230.0       5700.0    MALE
</span></span></span><span class="line"><span class="cl"><span class="s1">222  Gentoo  Biscoe              48.7             14.1              210.0       4450.0  FEMALE
</span></span></span><span class="line"><span class="cl"><span class="s1">223  Gentoo  Biscoe              50.0             15.2              218.0       5700.0    MALE
</span></span></span><span class="line"><span class="cl"><span class="s1">224  Gentoo  Biscoe              47.6             14.5              215.0       5400.0    MALE
</span></span></span><span class="line"><span class="cl"><span class="s1">..      ...     ...               ...              ...                ...          ...     ...
</span></span></span><span class="line"><span class="cl"><span class="s1">338  Gentoo  Biscoe              47.2             13.7              214.0       4925.0  FEMALE
</span></span></span><span class="line"><span class="cl"><span class="s1">340  Gentoo  Biscoe              46.8             14.3              215.0       4850.0  FEMALE
</span></span></span><span class="line"><span class="cl"><span class="s1">341  Gentoo  Biscoe              50.4             15.7              222.0       5750.0    MALE
</span></span></span><span class="line"><span class="cl"><span class="s1">342  Gentoo  Biscoe              45.2             14.8              212.0       5200.0  FEMALE
</span></span></span><span class="line"><span class="cl"><span class="s1">343  Gentoo  Biscoe              49.9             16.1              213.0       5400.0    MALE
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">[123 rows x 7 columns]
</span></span></span><span class="line"><span class="cl"><span class="s1">&#39;&#39;&#39;</span>
</span></span></code></pre></div><p>Very often it is useful to sort/index the raw data based on some metric, let&rsquo;s group the numerical data by the species and take the mean:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;species&#39;</span><span class="p">)[[</span><span class="s1">&#39;culmen_length_mm&#39;</span><span class="p">,</span> <span class="s1">&#39;culmen_depth_mm&#39;</span><span class="p">,</span> <span class="s1">&#39;flipper_length_mm&#39;</span><span class="p">,</span> <span class="s1">&#39;body_mass_g&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>
</span></span><span class="line"><span class="cl"><span class="s1">&#39;&#39;&#39;
</span></span></span><span class="line"><span class="cl"><span class="s1">           culmen_length_mm  culmen_depth_mm  flipper_length_mm  body_mass_g
</span></span></span><span class="line"><span class="cl"><span class="s1">species
</span></span></span><span class="line"><span class="cl"><span class="s1">Adelie            38.791391        18.346358         189.953642  3700.662252
</span></span></span><span class="line"><span class="cl"><span class="s1">Chinstrap         48.833824        18.420588         195.823529  3733.088235
</span></span></span><span class="line"><span class="cl"><span class="s1">Gentoo            47.504878        14.982114         217.186992  5076.016260
</span></span></span><span class="line"><span class="cl"><span class="s1">&#39;&#39;&#39;</span>
</span></span></code></pre></div><p>Let&rsquo;s format this into long format:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="n">df2</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;species&#39;</span><span class="p">)[[</span><span class="s1">&#39;culmen_length_mm&#39;</span><span class="p">,</span> <span class="s1">&#39;culmen_depth_mm&#39;</span><span class="p">,</span> <span class="s1">&#39;flipper_length_mm&#39;</span><span class="p">,</span> <span class="s1">&#39;body_mass_g&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">df2</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">id_vars</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;species&#39;</span><span class="p">],</span> <span class="n">var_name</span><span class="o">=</span><span class="s1">&#39;measurement&#39;</span><span class="p">,</span> <span class="n">value_name</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="s1">&#39;&#39;&#39;
</span></span></span><span class="line"><span class="cl"><span class="s1">      species        measurement        value
</span></span></span><span class="line"><span class="cl"><span class="s1">0      Adelie   culmen_length_mm    38.791391
</span></span></span><span class="line"><span class="cl"><span class="s1">1   Chinstrap   culmen_length_mm    48.833824
</span></span></span><span class="line"><span class="cl"><span class="s1">2      Gentoo   culmen_length_mm    47.504878
</span></span></span><span class="line"><span class="cl"><span class="s1">3      Adelie    culmen_depth_mm    18.346358
</span></span></span><span class="line"><span class="cl"><span class="s1">4   Chinstrap    culmen_depth_mm    18.420588
</span></span></span><span class="line"><span class="cl"><span class="s1">5      Gentoo    culmen_depth_mm    14.982114
</span></span></span><span class="line"><span class="cl"><span class="s1">6      Adelie  flipper_length_mm   189.953642
</span></span></span><span class="line"><span class="cl"><span class="s1">7   Chinstrap  flipper_length_mm   195.823529
</span></span></span><span class="line"><span class="cl"><span class="s1">8      Gentoo  flipper_length_mm   217.186992
</span></span></span><span class="line"><span class="cl"><span class="s1">9      Adelie        body_mass_g  3700.662252
</span></span></span><span class="line"><span class="cl"><span class="s1">10  Chinstrap        body_mass_g  3733.088235
</span></span></span><span class="line"><span class="cl"><span class="s1">11     Gentoo        body_mass_g  5076.016260
</span></span></span><span class="line"><span class="cl"><span class="s1">&#39;&#39;&#39;</span>
</span></span></code></pre></div><p>Lastly, let&rsquo;s make a simple plot that shows the culmen depth vs culmen length for all the species in one scatter plot.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</span></span><span class="line"><span class="cl"><span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">species_to_num</span> <span class="o">=</span> <span class="p">{</span><span class="n">v</span><span class="p">:</span> <span class="n">k</span> <span class="k">for</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;species&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">species</span><span class="p">,</span> <span class="n">group</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;species&#39;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">group</span><span class="p">[</span><span class="s1">&#39;culmen_length_mm&#39;</span><span class="p">],</span> <span class="n">group</span><span class="p">[</span><span class="s1">&#39;culmen_depth_mm&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="p">[</span><span class="n">species_to_num</span><span class="p">[</span><span class="n">species</span><span class="p">]],</span> <span class="n">label</span><span class="o">=</span><span class="n">species</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Culmen Length (mm)&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Culmen Depth (mm)&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Culmen Depth vs Culmen Length by pengiun species&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span></span></code></pre></div><p><img src="/school/images/palmer.png#center" alt=""></p>

        </section>

        <div class="post-tags">
            
            
            <nav class="nav tags">
                <ul class="tags">
                    
                    <li><a href="/tags/Introduction-to-data-science-and-AI">Introduction to data science and AI</a></li>
                    
                </ul>
            </nav>
            
            
        </div>
        </article>
</main>
<footer>
    <div style="display:flex"><a class="soc" href="https://github.com/rezaarezvan" rel="me" title="GitHub"><i data-feather="github"></i></a>
        <a class="border"></a><a class="soc" href="https://twitter.com/rzvan__/" rel="me" title="Twitter"><i data-feather="twitter"></i></a>
        <a class="border"></a></div><p class="footer_msg">memento mori</p></footer>


<script>
    feather.replace()
</script></div>
</body>

</html>
