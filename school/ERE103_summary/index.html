<!DOCTYPE html>
<html><head lang="en">
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge"><title>rezvan | Control theory: Summary</title><link rel="icon" type="image/png" href="/icon.png" /><meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description"
        content="Dynamic systems $u(t)$ - Input signal
$y(t)$ - Output signal
We usually represent our systems with ODEs of the form: $$ \dot{y} &#43; ay = bu $$
Feedback systems Using (positive or negative) feedback, meaning our input depends on the output as well!
$r(t)$ - Reference value/Setpoint
$e(t)$ = $r(t) - y(t)$ - Control error
Laplace Domain $F(s)$ - Controller
$G_{uy}(s)$ = $\dfrac{Y(s)}{U(s)}$ - Transfer function
$L(s) = G_{uy}(s) F(s)$ - Loop transfer function" />
    <meta property="og:image" content="https://raw.githubusercontent.com/rezaarezvan/rezvan.xyz/main/images/icon.png" />
    <meta property="og:title" content="Control theory: Summary" />
<meta property="og:description" content="Dynamic systems $u(t)$ - Input signal
$y(t)$ - Output signal
We usually represent our systems with ODEs of the form: $$ \dot{y} &#43; ay = bu $$
Feedback systems Using (positive or negative) feedback, meaning our input depends on the output as well!
$r(t)$ - Reference value/Setpoint
$e(t)$ = $r(t) - y(t)$ - Control error
Laplace Domain $F(s)$ - Controller
$G_{uy}(s)$ = $\dfrac{Y(s)}{U(s)}$ - Transfer function
$L(s) = G_{uy}(s) F(s)$ - Loop transfer function" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://rezvan.xyz/school/ERE103_summary/" /><meta property="article:section" content="school" />
<meta property="article:published_time" content="2023-12-30T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-12-30T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Control theory: Summary"/>
<meta name="twitter:description" content="Dynamic systems $u(t)$ - Input signal
$y(t)$ - Output signal
We usually represent our systems with ODEs of the form: $$ \dot{y} &#43; ay = bu $$
Feedback systems Using (positive or negative) feedback, meaning our input depends on the output as well!
$r(t)$ - Reference value/Setpoint
$e(t)$ = $r(t) - y(t)$ - Control error
Laplace Domain $F(s)$ - Controller
$G_{uy}(s)$ = $\dfrac{Y(s)}{U(s)}$ - Transfer function
$L(s) = G_{uy}(s) F(s)$ - Loop transfer function"/>
<script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@1,500&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Sans&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet">

    
    <link rel="stylesheet" type="text/css" media="screen" href="https://rezvan.xyz/css/main.55ceafd1ab15172b8770201b55c83270fac8611fcdae31fccb3a7fd94ac6da6e.css" />
    <link id="darkModeStyle" rel="stylesheet" type="text/css" href="https://rezvan.xyz/css/dark.b95ac7b1169ab6755ef14c75e8e49c983d2d56c40ee0c3d69d357d42339b5e31.css"  disabled />
    

    
    
    <script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
        </script>

    
    <script type="text/x-mathjax-config">
		MathJax.Hub.Config({
			tex2jax: {
				inlineMath: [['$','$'], ['\\(','\\)']],
				displayMath: [['$$','$$'], ['\[','\]']],
				processEscapes: true,
				processEnvironments: true,
				skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
				TeX: { equationNumbers: { autoNumber: "AMS" },
						 extensions: ["AMSmath.js", "AMSsymbols.js"] }
			}
		});
		</script>
    

    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body);"></script>

    
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: "$$", right: "$$", display: true},
                    {left: "$", right: "$", display: false}
                ]
            });
        });
    </script>
    

    
</head>
<body>
    <div class="content"><header>
    <div class="main">
        <a href="https://rezvan.xyz/">rezvan</a>
    </div>
    <nav id="site-navbar">
        
        <a href="/">home</a>
        
        <a href="/about">about</a>
        
        <a href="/principles">principles</a>
        
        <a href="/contact">contact</a>
        
        <a href="/cv">cv</a>
        
        <a href="/school">school</a>
        
        <a href="/tags">tags</a>
        
        | <span id="dark-mode-toggle" onclick="toggleTheme()"></span>
        <script src="https://rezvan.xyz/js/themetoggle.js"></script>
        
    </nav>
</header>

<main>
    <article>
        <div class="title">
            <h1 class="title">Control theory: Summary</h1>
            <div class="meta">Posted on Dec 30, 2023</div>
        </div>
        

        <section class="body">
            <h3 id="dynamic-systems">Dynamic systems</h3>
<p>$u(t)$ - Input signal</p>
<p>$y(t)$ - Output signal</p>
<p>We usually represent our systems with ODEs of the form:
$$
\dot{y} + ay = bu
$$</p>
<h3 id="feedback-systems">Feedback systems</h3>
<p>Using (positive or negative) feedback, meaning our input depends on the output as well!</p>
<p>$r(t)$ - Reference value/Setpoint</p>
<p>$e(t)$ = $r(t) - y(t)$ - Control error</p>
<h3 id="laplace-domain">Laplace Domain</h3>
<p>$F(s)$ - Controller</p>
<p>$G_{uy}(s)$ = $\dfrac{Y(s)}{U(s)}$ - Transfer function</p>
<p>$L(s) = G_{uy}(s) F(s)$ - Loop transfer function</p>
<p>$G_{ry}(s)$ = $\dfrac{Y(s)}{R(s)} = \dfrac{L(s)}{1 + L(s)}$ - Closed-loop transfer function</p>
<h3 id="poles--zeroes">Poles &amp; Zeroes</h3>
<p>Poles are given by $1 + L(s) = 0$ - the denominator in $G_{ry}(s)$ to determine the stability of a system.</p>
<p>Zeroes are given by $L(s) = 0$ - the numerator in $G_{ry}(s)$ to determine the system&rsquo;s response</p>
<h3 id="controllers">Controllers</h3>
<h4 id="p-controller">P-controller</h4>
<p>$$
u(t) = K_p \cdot e(t)
$$</p>
<p>$$
U(s) = K_p \cdot E(s)
$$</p>
<h4 id="pi-controller">PI-controller</h4>
<p>$$
u(t) = K_p \cdot e(t) + K_i \int_0^t e(\tau)\ d\tau
$$</p>
<p>$$
U(s) = K_p \cdot E(s) + \frac{K_i}{s} \cdot E(s)
$$</p>
<h4 id="pd-controller">PD-controller</h4>
<p>$$
u(t) = K_p \cdot e(t) + K_d \cdot \dfrac{d(e(t))}{dt}
$$</p>
<p>$$
U(s) = K_p \cdot E(s) + sK_d \cdot E(s)
$$</p>
<h4 id="pid-controller">PID-controller</h4>
<p>$$
u(t) = K_p \cdot e(t) + K_i \int_0^t e(\tau)\ d\tau + K_d \cdot \dfrac{d(e(t))}{dt}
$$</p>
<p>$$
U(s) = K_p \cdot E(s) + \frac{K_i}{s} \cdot E(s) + sK_d \cdot E(s)
$$</p>
<h3 id="feedback-systems-with-noisedisturbance">Feedback systems with noise/disturbance</h3>
<p>Remaining control error, $e(\infty)$ when:
$$
r(t) = r_0 \cdot \sigma(t)
$$</p>
<p>$$
R(s) = \dfrac{r_0}{s} \ | \ \text{set } v(t) = 0
$$</p>
<p>$$
\begin{align*}
\lim_{t \to \infty} e(t)
&amp; = \lim_{s \to 0} s \cdot E(s) \\
&amp; = \lim_{s \to 0} s \cdot \left(R(s) - \dfrac{L(s)}{1 + L(s)} R(s)\right) \\
&amp; = \lim_{s \to 0} s \cdot \left(R(s) \cdot \left(1 - \dfrac{L(s)}{1 + L(s)}\right)\right) \\
&amp; = \lim_{s \to 0} s \cdot \left(R(s) \cdot \left(\dfrac{1 + L(s) - L(s)}{1 + L(s)}\right)\right) \\
&amp; = \lim_{s \to 0} s \cdot \left(R(s) \cdot \left(\dfrac{1}{1 + L(s)}\right)\right) \\
&amp; = \lim_{s \to 0} s \cdot \left(\dfrac{r_0}{s} \cdot \dfrac{1}{1 + L(s)}\right) \\
&amp; = \lim_{s \to 0} \left(\dfrac{r_0}{1 + L(0)}\right) \\
&amp; = \boxed{\lim_{s \to 0} \left(\dfrac{r_0}{1 + F(0)G(0)}\right)}
\end{align*}
$$</p>
<p>Remaining control error, $e(\infty)$ when:
$$
v(t) = v_0 \cdot \sigma(t)
$$</p>
<p>$$
V(s) = \dfrac{v_0}{s} \ | \ \text{set } r(t) = 0
$$</p>
<p>$$
E(s) = R(s) - Y(s) \\
$$</p>
<p>$$
E(s) = -Y(s) \\
$$</p>
<p>$$
E(s) = -\left(G(s) \cdot \left(V(s) + F(s) E(s)\right)\right) \\
$$</p>
<p>$$
E(s) = -G(s) V(s) - L(s) E(s) \\
$$</p>
<p>$$
E(s) + L(s) E(s) = -G(s) V(s) \\
$$</p>
<p>$$
E(s) \left(1  + L(s)\right) = -G(s) V(s) \\
$$</p>
<p>$$
E(s) = -\dfrac{G(s) V(s)}{1 + L(s)} \\
$$</p>
<p>$$
E(s) = -\dfrac{G(s)}{1 + L(s)} \cdot V(s) \\
$$</p>
<p>$$
\begin{align*}
\lim_{t \to \infty} e(t)
&amp; = \lim_{s \to 0} s \cdot E(s) \\
&amp; = \lim_{s \to 0} s \cdot -\dfrac{G(s)}{1 + L(s)} \cdot V(s) \\
&amp; = \lim_{s \to 0} s \cdot -\dfrac{G(s)}{1 + L(s)} \cdot \dfrac{v_0}{s} \\
&amp; = \lim_{s \to 0} -\dfrac{G(s) \cdot v_0}{1 + L(s)} \\
&amp; = \boxed{\lim_{s \to 0} -\dfrac{G(0) \cdot v_0}{1 + L(0)}}
\end{align*}
$$</p>
<p>To eliminate the remaining control error all together, meaning that $e(\infty) = 0$ it means that $F(0) = \infty$. In others words, we need a $\frac{1}{s}$ component (an integral in the time domain) in our controller.</p>
<h3 id="physical-models">Physical models</h3>
<p>Physical models are often model with ODEs, for example:
$$
m\ddot{y}(t) = F(t) - ky(t) - b\dot{y}(t)
$$</p>
<p>$$
m\ddot{y}(t) + b\dot{y}(t) + ky(t) = F(t)
$$</p>
<p>Taking the Laplace transform
$$
ms^2 Y(s) + bs Y(s) + kY(s) \stackrel{\mathcal{L}}{=} F(s)
$$</p>
<p>$$
Y(s) \left(ms^2 + bs + k\right) = F(s)
$$</p>
<p>$$
\boxed{G(s) =  \dfrac{F(s)}{\left(ms^2 + bs + k\right)}}
$$</p>
<p>We can also do this with state-space representation.</p>
<p>Rewriting our original ODE:
$$
\ddot{y}(t) = -\frac{b}{m} \dot{y}(t) - \frac{k}{m} y(t) + \frac{1}{m} F(t)
$$</p>
<p>Let $x_1 = y$ and $x_2 = \dot{y}$.</p>
<p>This means that:
$$
\begin{cases}
\dot{x_1} &amp; = x_2 \\
\dot{x_2} &amp; = -\dfrac{b}{m} x_2 - \dfrac{k}{m} x_1 + \dfrac{1}{m} F
\end{cases}
$$</p>
<p>Using Matrix notation:
$$
x =
\begin{bmatrix}
\dot{x_1} \\
\dot{x_2}
\end{bmatrix} =
\begin{bmatrix}
0 &amp; 1 \\
-\frac{k}{m} &amp; -\frac{b}{m}
\end{bmatrix}
\begin{bmatrix}
x_1 \\
x_2
\end{bmatrix} +
\begin{bmatrix}
0 \\
\frac{1}{m}
\end{bmatrix} F
$$</p>
<p>$$
y =
\begin{bmatrix}
1 &amp; 0
\end{bmatrix}
\begin{bmatrix}
x_1 \\
x_2
\end{bmatrix} +
\begin{bmatrix}
0
\end{bmatrix}
F
$$</p>
<h3 id="generalization">Generalization</h3>
<p>$$
\dot{x} = Ax + Bu \\
y = Cx + Du
$$</p>
<p>$$
G_{uy}(s) = \dfrac{Y(s)}{U(s)} = C(sI - A)^{-1} B + D
$$</p>
<h3 id="characteristics-equation">Characteristics equation</h3>
<p>To find the poles of the system in matrix notation we use the fact that the denominator of the transfer function is:
$$
det(sI - A)
$$</p>
<p>So, to find the poles we simply:
$$
det(sI - A) = 0
$$</p>
<p>Reminder that:
$$
A =
\begin{bmatrix}
a &amp; b \\
c &amp; d
\end{bmatrix}
$$</p>
<p>$$
det(A) =
\dfrac{1}{ad - bc}
$$</p>
<p>$$
A^{-1} =
\dfrac{1}{ad - bc}
\begin{bmatrix}
d &amp; -b \\
-c &amp; a
\end{bmatrix}
$$</p>
<p>NB: This rule only applies for 2x2 matrices.</p>
<h3 id="state-feedback">State feedback</h3>
<p><img src="/school/images/spacestate.png#center" alt="">
$$
u = K_r \cdot r - Lx \\
y = Cx
$$</p>
<p>$$
\dot{x} = Ax + Bu = Ax + B(K_r r - Lx) \\
sX(s) = AX(s) + B(K_r R(s) - LX(s)) \\
sX(s) = AX(s) + BK_r R(s) - BLX(s) \\
sX(s) - AX(s) + BLX(s) = BK_r R(s) \\
X(s) (sI - A + BL) = BK_r R(s) \\
X(s) = (sI - A + BL)^{-1} BK_r R(s) \\
$$</p>
<p>$$
Y(s) = CX(s) \\
Y(s) = C (sI - A + BL)^{-1} B K_r R(s) \\
G_{ry}{s} = \dfrac{Y(s)}{R(s)} = C (sI - A + BL)^{-1} B K_r
$$</p>
<p>We can determine K_r for a system with the knowledge that $G(0) = 1$</p>
<p>So:
$$
K_r = \dfrac{1}{C(-A + BL)^{-1}) B}
$$</p>
<p>Poles are given by:
$$
det(sI - A + BL) = 0
$$</p>
<h3 id="stability">Stability</h3>
<p>A system is stable if and only if its characteristic equation has roots in the LHP, meaning that $\Re(s) &lt; 0$.</p>
<p>For systems of order 2, this means that all the coefficients are $&gt; 0$</p>
<p>For systems or order 3 or higher we use Routh–Hurwitz method.</p>
<h3 id="nyquists-simplified-criterion">Nyquists simplified criterion</h3>
<p>To use the Nyquists simplified criterion, $L(s)$ can not have a pole in the RHP. If this criterion is met, plot $L(j\omega)$ for $0 \leq \omega \leq \infty$.</p>
<p>If $L(j\omega)$ passes through the negative real axis with $(-1, 0)$ to its left, then the system is stable.</p>
<h3 id="nyquists-criterion">Nyquists criterion</h3>
<p>If $L(s)$ has a pole in the RHP, we can still use Nyquists criterion.</p>
<p>$$
Z = P + N = \text{Number of zeroes } 1 + L(s) \text{ has in RHP.}
$$</p>
<p>$$
P = \text{Number of poles } L(s) \text{ has in RHP.}
$$</p>
<p>$$
N = \text{Number of turns } L(j\omega) \text{ has around } (-1, 0) \text{ clockwise.}
$$</p>

        </section>

        <div class="post-tags">
            
            
            <nav class="nav tags">
                <ul class="tags">
                    
                    <li><a href="/tags/Control-theory">Control theory</a></li>
                    
                </ul>
            </nav>
            
            
        </div>
        </article>
</main>
<footer>
    <div style="display:flex"><a class="soc" href="https://github.com/rezaarezvan" rel="me" title="GitHub"><i data-feather="github"></i></a>
        <a class="border"></a><a class="soc" href="https://twitter.com/rzvan__/" rel="me" title="Twitter"><i data-feather="twitter"></i></a>
        <a class="border"></a></div><p class="footer_msg">memento mori</p></footer>


<script>
    feather.replace()
</script></div>
</body>

</html>
